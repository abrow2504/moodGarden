(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var ff={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function wE(){if(Gp)return Il;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Qp;function CE(){return Qp||(Qp=1,ff.exports=wE()),ff.exports}var Kt=CE(),df={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function DE(){if(Yp)return Et;Yp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||Q}J.prototype.isReactComponent={},J.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=J.prototype;function gt(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||Q}var ft=gt.prototype=new St;ft.constructor=gt,Z(ft,J.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function O(C,K,et,$,ot,bt){return et=bt.ref,{$$typeof:s,type:C,key:K,ref:et!==void 0?et:null,props:bt}}function S(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function I(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var N=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):K.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,K,et,$,ot){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,ie(pt(C._payload),K,et,$,ot)}}if(pt)return ot=ot(C),pt=$===""?"."+U(C,0):$,xt(ot)?(et="",pt!=null&&(et=pt.replace(N,"$&/")+"/"),ie(ot,K,et,"",function(Mn){return Mn})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+pt)),K.push(ot)),1;pt=0;var be=$===""?".":$+":";if(xt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],bt=be+U($,Zt),pt+=ie($,K,et,bt,ot);else if(Zt=M(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,bt=be+U($,Zt++),pt+=ie($,K,et,bt,ot);else if(bt==="object"){if(typeof C.then=="function")return ie(Oe(C),K,et,$,ot);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,K,et){if(C==null)return C;var $=[],ot=0;return ie(C,$,"","",function(bt){return K.call(et,bt,ot++)}),$}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return Et.Children={map:H,forEach:function(C,K,et){H(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=J,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=gt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ot=C.key,bt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(bt=void 0),K.key!==void 0&&(ot=""+K.key),K)!Lt.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||($[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];$.children=be}return O(C.type,ot,void 0,void 0,bt,$)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,K,et){var $,ot={},bt=null;if(K!=null)for($ in K.key!==void 0&&(bt=""+K.key),K)Lt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=K[$]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];ot.children=be}if(C&&C.defaultProps)for($ in pt=C.defaultProps,pt)ot[$]===void 0&&(ot[$]=pt[$]);return O(C,bt,void 0,void 0,null,ot)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:p,render:C}},Et.isValidElement=w,Et.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Et.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Et.startTransition=function(C){var K=vt.T,et={};vt.T=et;try{var $=C(),ot=vt.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,lt)}catch(bt){lt(bt)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(C){return vt.H.use(C)},Et.useActionState=function(C,K,et){return vt.H.useActionState(C,K,et)},Et.useCallback=function(C,K){return vt.H.useCallback(C,K)},Et.useContext=function(C){return vt.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,K){return vt.H.useDeferredValue(C,K)},Et.useEffect=function(C,K,et){var $=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(C,K,et){return vt.H.useImperativeHandle(C,K,et)},Et.useInsertionEffect=function(C,K){return vt.H.useInsertionEffect(C,K)},Et.useLayoutEffect=function(C,K){return vt.H.useLayoutEffect(C,K)},Et.useMemo=function(C,K){return vt.H.useMemo(C,K)},Et.useOptimistic=function(C,K){return vt.H.useOptimistic(C,K)},Et.useReducer=function(C,K,et){return vt.H.useReducer(C,K,et)},Et.useRef=function(C){return vt.H.useRef(C)},Et.useState=function(C){return vt.H.useState(C)},Et.useSyncExternalStore=function(C,K,et){return vt.H.useSyncExternalStore(C,K,et)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.0",Et}var Fp;function Xf(){return Fp||(Fp=1,df.exports=DE()),df.exports}var sr=Xf(),mf={exports:{}},Ol={},gf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function VE(){return Xp||(Xp=1,function(s){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var zt=lt-1>>>1,C=H[zt];if(0<u(C,tt))H[zt]=tt,H[lt]=C,lt=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var zt=0,C=H.length,K=C>>>1;zt<K;){var et=2*(zt+1)-1,$=H[et],ot=et+1,bt=H[ot];if(0>u($,lt))ot<C&&0>u(bt,$)?(H[zt]=bt,H[ot]=lt,zt=ot):(H[zt]=$,H[et]=lt,zt=et);else if(ot<C&&0>u(bt,lt))H[zt]=bt,H[ot]=lt,zt=ot;else break t}}return tt}function u(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,V=null,M=3,Q=!1,Z=!1,nt=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function vt(H){if(nt=!1,xt(H),!Z)if(i(_)!==null)Z=!0,Lt||(Lt=!0,U());else{var tt=i(v);tt!==null&&ie(vt,tt.startTime-H)}}var Lt=!1,O=-1,S=5,w=-1;function I(){return J?!0:!(s.unstable_now()-w<S)}function N(){if(J=!1,Lt){var H=s.unstable_now();w=H;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(O),O=-1),Q=!0;var lt=M;try{e:{for(xt(H),V=i(_);V!==null&&!(V.expirationTime>H&&I());){var zt=V.callback;if(typeof zt=="function"){V.callback=null,M=V.priorityLevel;var C=zt(V.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){V.callback=C,xt(H),tt=!0;break e}V===i(_)&&a(_),xt(H)}else a(_);V=i(_)}if(V!==null)tt=!0;else{var K=i(v);K!==null&&ie(vt,K.startTime-H),tt=!1}}break t}finally{V=null,M=lt,Q=!1}tt=void 0}}finally{tt?U():Lt=!1}}}var U;if(typeof ft=="function")U=function(){ft(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=N,U=function(){Oe.postMessage(null)}}else U=function(){St(N,0)};function ie(H,tt){O=St(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var lt=M;M=tt;try{return H()}finally{M=lt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=M;M=H;try{return tt()}finally{M=lt}},s.unstable_scheduleCallback=function(H,tt,lt){var zt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>zt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(nt?(gt(O),O=-1):nt=!0,ie(vt,lt-zt))):(H.sortIndex=C,e(_,H),Z||Q||(Z=!0,Lt||(Lt=!0,U()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var tt=M;return function(){var lt=M;M=tt;try{return H.apply(this,arguments)}finally{M=lt}}}}(pf)),pf}var Kp;function IE(){return Kp||(Kp=1,gf.exports=VE()),gf.exports}var yf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function OE(){if(Zp)return He;Zp=1;var s=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:M,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:V,integrity:M,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var $p;function NE(){if($p)return yf.exports;$p=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=OE(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function ME(){if(Jp)return Ol;Jp=1;var s=IE(),e=Xf(),i=NE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function $(t,n){C++,zt[C]=t.current,t.current=n}var ot=K(null),bt=K(null),pt=K(null),be=K(null);function Zt(t,n){switch($(pt,n),$(bt,t),$(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_p(n),t=vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),$(ot,t)}function Mn(){et(ot),et(bt),et(pt)}function Ii(t){t.memoizedState!==null&&$(be,t);var n=ot.current,r=vp(n,t.type);n!==r&&($(bt,t),$(ot,r))}function ti(t){bt.current===t&&(et(ot),et(bt)),be.current===t&&(et(be),Rl._currentValue=lt)}var _r=Object.prototype.hasOwnProperty,vr=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,cn=s.unstable_now,hc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ca=s.unstable_UserBlockingPriority,Tr=s.unstable_NormalPriority,fc=s.unstable_LowPriority,ha=s.unstable_IdlePriority,bs=s.log,tu=s.unstable_setDisableYieldValue,re=null,kt=null;function tn(t){if(typeof bs=="function"&&tu(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(re,t)}catch{}}var qe=Math.clz32?Math.clz32:Ar,eu=Math.log,dc=Math.LN2;function Ar(t){return t>>>=0,t===0?32:31-(eu(t)/dc|0)|0}var Sr=256,br=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):r||(r=E&~t,r!==0&&(c=Rn(r))))):(E=l&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=l&~t,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),t}function Cs(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ds(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-qe(r),Y=1<<j;E[j]=0,b[j]=-1;var P=B[j];if(P!==null)for(B[j]=null,j=0;j<P.length;j++){var q=P[j];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ni(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Bp(t.type))}function nu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,hn="__reactContainer$"+Wt,Is="__reactEvents$"+Wt,mc="__reactListeners$"+Wt,Mi="__reactHandles$"+Wt,iu="__reactResources$"+Wt,wr="__reactMarker$"+Wt;function xi(t){delete t[_e],delete t[he],delete t[Is],delete t[mc],delete t[Mi]}function ii(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sp(t);t!==null;){if(r=t[_e])return r;t=Sp(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[_e]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[wr]=!0}var Os=new Set,ma={};function wn(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(ma[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Cr={};function su(t){return _r.call(Cr,t)?!0:_r.call(au,t)?!1:ru.test(t)?Cr[t]=!0:(au[t]=!0,!1)}function Ui(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ne(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,lu;function ai(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+lu}var ga=!1;function pa(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ai(r):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return ai("Activity");default:return""}}function ya(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gc(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _a(t){t._valueTracker||(t._valueTracker=gc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pc=/[\n"\\]/g;function fe(t){return t.replace(pc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Li(t,y,Fe(n)):r!=null?Li(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Li(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function si(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Nr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function zs(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&si(t,!!r.multiple,n,!1)}}}var Bn=!1;function ou(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ui!==null||oi!==null)&&(no(),ui&&(n=ui,t=oi,oi=ui=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function Mr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Cn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){mn=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{mn=!1}var Pn=null,zi=null,ci=null;function Bs(){if(ci)return ci;var t,n=zi,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Ps(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Ps,this.isPropagationStopped=Ps,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Re(Pt),Ur=A({},Pt,{view:0,detail:0}),cu=Re(Ur),Ta,Aa,Hn,Lr=A({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ta=t.screenX-Hn.screenX,Aa=t.screenY-Hn.screenY):Aa=Ta=0,Hn=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),gn=Re(Lr),hu=A({},Lr,{dataTransfer:0}),vc=Re(hu),zr=A({},Ur,{relatedTarget:0}),Sa=Re(zr),qs=A({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=Re(qs),fu=A({},Pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=Re(fu),Ec=A({},Pt,{data:0}),ks=Re(Ec),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function Pr(){return Hs}var gu=A({},Ur,{key:function(t){if(t.key){var n=Br[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=Re(gu),pu=A({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=Re(pu),hi=A({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),yu=Re(hi),_u=A({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=A({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Re(Eu),Xe=A({},Pt,{newState:0,oldState:0}),Tu=Re(Xe),Au=[9,13,27,32],jn=Cn&&"CompositionEvent"in window,o=null;Cn&&"documentMode"in document&&(o=document.documentMode);var m=Cn&&"TextEvent"in window&&!o,g=Cn&&(!jn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!jn&&k(t,n)?(t=Bs(),ci=zi=Pn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function fi(t,n,r,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=uo(n,"onChange"),0<n.length&&(r=new Ea("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Gn=null;function Gs(t){dp(t,0)}function Su(t){var n=Ln(t);if(xs(n))return t}function xd(t,n){if(t==="change")return n}var Ud=!1;if(Cn){var Tc;if(Cn){var Ac="oninput"in document;if(!Ac){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Ac=typeof Ld.oninput=="function"}Tc=Ac}else Tc=!1;Ud=Tc&&(!document.documentMode||9<document.documentMode)}function zd(){Me&&(Me.detachEvent("onpropertychange",Bd),Gn=Me=null)}function Bd(t){if(t.propertyName==="value"&&Su(Gn)){var n=[];fi(n,Gn,t,dn(t)),ou(Gs,n)}}function n0(t,n,r){t==="focusin"?(zd(),Me=n,Gn=r,Me.attachEvent("onpropertychange",Bd)):t==="focusout"&&zd()}function i0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Gn)}function r0(t,n){if(t==="click")return Su(n)}function a0(t,n){if(t==="input"||t==="change")return Su(n)}function s0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:s0;function Qs(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_r.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,n){var r=Pd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Pd(r)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function Sc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var l0=Cn&&"documentMode"in document&&11>=document.documentMode,Da=null,bc=null,Ys=null,Rc=!1;function jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||Da==null||Da!==Vr(l)||(l=Da,"selectionStart"in l&&Sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Qs(Ys,l)||(Ys=l,l=uo(bc,"onSelect"),0<l.length&&(n=new Ea("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},wc={},Gd={};Cn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function kr(t){if(wc[t])return wc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return wc[t]=n[r];return t}var Qd=kr("animationend"),Yd=kr("animationiteration"),Fd=kr("animationstart"),u0=kr("transitionrun"),o0=kr("transitionstart"),c0=kr("transitioncancel"),Xd=kr("transitionend"),Kd=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function Dn(t,n){Kd.set(t,n),wn(n,[t])}var Zd=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var r=Zd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ya(n)},Zd.set(t,n),n)}return{value:t,source:n,stack:ya(n)}}var yn=[],Ia=0,Dc=0;function bu(){for(var t=Ia,n=Dc=Ia=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&$d(r,c,f)}}function Ru(t,n,r,l){yn[Ia++]=t,yn[Ia++]=n,yn[Ia++]=r,yn[Ia++]=l,Dc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vc(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Oa(t,n){return Ru(t,null,null,n),wu(t)}function $d(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<yl)throw yl=0,Uh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function h0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new h0(t,n,r,l)}function Ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Jd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ic(t)&&(y=1);else if(typeof t=="string")y=dE(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=rn(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Hr(r.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=rn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=rn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case Lt:return t=rn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case ft:y=10;break t;case gt:y=9;break t;case xt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function Oc(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function Nc(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ma=[],xa=0,Du=null,Vu=0,_n=[],vn=0,jr=null,mi=1,gi="";function Gr(t,n){Ma[xa++]=Vu,Ma[xa++]=Du,Du=t,Vu=n}function Wd(t,n,r){_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=jr,jr=t;var l=mi;t=gi;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-qe(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function Mc(t){t.return!==null&&(Gr(t,1),Wd(t,1,0))}function xc(t){for(;t===Du;)Du=Ma[--xa],Ma[xa]=null,Vu=Ma[--xa],Ma[xa]=null;for(;t===jr;)jr=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null}var Ke=null,ae=null,Bt=!1,Qr=null,Qn=!1,Uc=Error(a(519));function Yr(t){var n=Error(a(418,""));throw Ks(pn(n,t)),Uc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Or(n,l.value,l.defaultValue,l.children),_a(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||yp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Yr(t)}function em(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Ke=Ke.return}}function Fs(t){if(t!==Ke)return!1;if(!Bt)return em(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||$h(t.type,t.memoizedProps)),r=!r),r&&ae&&Yr(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,Wi(t.type)?(t=ef,ef=null,ae=t):ae=n):ae=Ke?In(t.stateNode.nextSibling):null;return!0}function Xs(){ae=Ke=null,Bt=!1}function nm(){var t=Qr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Qr=null),t}function Ks(t){Qr===null?Qr=[t]:Qr.push(t)}var Lc=K(null),Fr=null,pi=null;function Bi(t,n,r){$(Lc,n._currentValue),n._currentValue=r}function yi(t){t._currentValue=Lc.current,et(Lc)}function zc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Bc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),zc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),zc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Bc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Fr=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return im(Fr,t)}function Ou(t,n){return Fr===null&&Xr(t),im(t,n)}function im(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},pi===null){if(t===null)throw Error(a(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return r}var f0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},d0=s.unstable_scheduleCallback,m0=s.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new f0,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&d0(m0,function(){t.controller.abort()})}var Js=null,qc=0,Ua=0,La=null;function g0(t,n){if(Js===null){var r=Js=[];qc=0,Ua=Hh(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return qc++,n.then(rm,rm),n}function rm(){if(--qc===0&&Js!==null){La!==null&&(La.status="fulfilled");var t=Js;Js=null,Ua=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function p0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&g0(t,n),am!==null&&am(t,n)};var Kr=K(null);function kc(){var t=Kr.current;return t!==null?t:$t.pooledCache}function Nu(t,n){n===null?$(Kr,Kr.current):$(Kr,n.pool)}function sm(){var t=kc();return t===null?null:{parent:Te._currentValue,pool:t}}var Ws=Error(a(460)),lm=Error(a(474)),Mu=Error(a(542)),Hc={then:function(){}};function um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t}throw tl=n,Ws}}var tl=null;function cm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function hm(t){if(t===Ws||t===Mu)throw Error(a(483))}var Pi=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),$d(t,null,r),n}return Ru(t,l,n,r),wu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Qc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Yc=!1;function nl(){if(Yc){var t=La;if(t!==null)throw t}}function il(t,n,r,l){Yc=!1;var c=t.updateQueue;Pi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=B:E.next=B,j.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,j=B=b=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ot&P)===P:(l&P)===P){P!==0&&P===Ua&&(Yc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;P=n;var Ft=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Y=mt.call(Ft,Y,P);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,P=typeof mt=="function"?mt.call(Ft,Y,P):mt,P==null)break t;Y=A({},Y,P);break t;case 2:Pi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(B=j=q,b=Y):j=j.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),Ki|=y,t.lanes=y,t.memoizedState=Y}}function fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fm(r[t],n)}var za=K(null),Uu=K(0);function mm(t,n){t=bi,$(Uu,t),$(za,n),bi=t|n.baseLanes}function Fc(){$(Uu,bi),$(za,za.current)}function Xc(){bi=Uu.current,et(za),et(Uu)}var Hi=0,Tt=null,Qt=null,de=null,Lu=!1,Ba=!1,Zr=!1,zu=0,rl=0,Pa=null,y0=0;function ue(){throw Error(a(321))}function Kc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Zc(t,n,r,l,c,f){return Hi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$m:Jm,Zr=!1,f=r(l,c),Zr=!1,Ba&&(f=pm(n,r,l,c)),gm(t),f}function gm(t){H.H=ju;var n=Qt!==null&&Qt.next!==null;if(Hi=0,de=Qt=Tt=null,Lu=!1,rl=0,Pa=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Iu(t)&&(Ce=!0))}function pm(t,n,r,l){Tt=t;var c=0;do{if(Ba&&(Pa=null),rl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=b0,f=n(r,l)}while(Ba);return f}function _0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function $c(){var t=zu!==0;return zu=0,t}function Jc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Wc(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}Hi=0,de=Qt=Tt=null,Ba=!1,rl=zu=0,Pa=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Tt.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,Pa===null&&(Pa=[]),t=om(Pa,t,n),n=Tt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$m:Jm),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ft)return ke(t)}throw Error(a(438,String(t)))}function eh(t){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=th(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=me();return nh(n,Qt,t)}function nh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,j=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Ot&Y)===Y:(Hi&Y)===Y){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ua&&(j=!0);else if((Hi&P)===P){B=B.next,P===Ua&&(j=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Tt.lanes|=P,Ki|=P;Y=B.action,Zr&&r(f,Y),f=B.hasEagerState?B.eagerState:r(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,Tt.lanes|=Y,Ki|=Y;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!nn(f,t.memoizedState)&&(Ce=!0,j&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ih(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ym(t,n,r){var l=Tt,c=me(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!nn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Em.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,qa(9,qu(),vm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Hi&124)!==0||_m(l,n,r)}return r}function _m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=th(),Tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vm(t,n,r,l){n.value=r,n.getSnapshot=l,Tm(n)&&Am(t)}function Em(t,n,r){return r(function(){Tm(n)&&Am(t)})}function Tm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function Am(t){var n=Oa(t,2);n!==null&&on(n,t,2)}function rh(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),Zr){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function Sm(t,n,r,l){return t.baseState=r,nh(t,Qt,typeof l=="function"?l:_i)}function v0(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Rm(t,n,E)}catch(B){ah(t,n,B)}finally{H.T=f}}else try{f=r(c,l),Rm(t,n,f)}catch(B){ah(t,n,B)}}function Rm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wm(t,n,l)},function(l){return ah(t,n,l)}):wm(t,n,r)}function wm(t,n,r){n.status="fulfilled",n.value=r,Cm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bm(t,r)))}function ah(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cm(n),n=n.next;while(n!==l)}t.action=null}function Cm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Vm(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=Tt;if(Bt){if(ae){e:{for(var c=ae,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}Yr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},r.queue=l,r=Xm.bind(null,Tt,l),l.dispatch=r,l=rh(!1),f=ch.bind(null,Tt,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=v0.bind(null,Tt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=me();return Om(n,Qt,t)}function Om(t,n,r){if(n=nh(t,n,Dm)[0],t=Pu(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,qa(9,qu(),E0.bind(null,c,r),null)),[l,f,t]}function E0(t,n){t.action=n}function Nm(t){var n=me(),r=Qt;if(r!==null)return Om(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=th(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function Mm(){return me().memoizedState}function ku(t,n,r,l){var c=Ze();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=qa(1|n,qu(),r,l)}function sl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Kc(l,Qt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(Tt.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function xm(t,n){ku(8390656,8,t,n)}function Um(t,n){sl(2048,8,t,n)}function Lm(t,n){return sl(4,2,t,n)}function zm(t,n){return sl(4,4,t,n)}function Bm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,Bm.bind(null,n,t),r)}function sh(){}function qm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Kc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function km(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Kc(n,l[1]))return l[0];if(l=t(),Zr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function lh(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Gg(),Tt.lanes|=t,Ki|=t,r)}function Hm(t,n,r,l){return nn(r,n)?r:za.current!==null?(t=lh(t,r,l),nn(t,n)||(Ce=!0),t):(Hi&42)===0?(Ce=!0,t.memoizedState=r):(t=Gg(),Tt.lanes|=t,Ki|=t,n)}function jm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,ch(t,!1,n,r);try{var b=c(),B=H.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=p0(b,l);ll(t,n,j,un(t))}else ll(t,n,l,un(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},un())}finally{tt.p=f,H.T=y}}function T0(){}function uh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Gm(t).queue;jm(t,c,n,lt,r===null?T0:function(){return Qm(t),r(l)})}function Gm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Gm(t).next.queue;ll(t,n,{},un())}function oh(){return ke(Rl)}function Ym(){return me().memoizedState}function Fm(){return me().memoizedState}function A0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=qi(r);var l=ki(n,t,r);l!==null&&(on(l,n,r),el(l,n,r)),n={cache:Pc()},t.payload=n;return}n=n.return}}function S0(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Km(n,r):(r=Vc(t,n,r,l),r!==null&&(on(r,t,l),Zm(r,n,l)))}function Xm(t,n,r){var l=un();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(r=Vc(t,n,c,l),r!==null)return on(r,t,l),Zm(r,n,l),!0}return!1}function ch(t,n,r,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Vc(t,r,l,2),n!==null&&on(n,t,2)}function Hu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Km(t,n){Ba=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var ju={readContext:ke,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},$m={readContext:ke,use:Bu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Bm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(Zr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(Zr){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=S0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=rh(t);var n=t.queue,r=Xm.bind(null,Tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:sh,useDeferredValue:function(t,n){var r=Ze();return lh(r,t,n)},useTransition:function(){var t=rh(!1);return t=jm.bind(null,Tt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Tt,c=Ze();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ot&124)!==0||_m(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,xm(Em.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,qu(),vm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Bt){var r=gi,l=mi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=y0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:oh,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ch.bind(null,Tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:eh,useCacheRefresh:function(){return Ze().memoizedState=A0.bind(null,Tt)}},Jm={readContext:ke,use:Bu,useCallback:qm,useContext:ke,useEffect:Um,useImperativeHandle:Pm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:km,useReducer:Pu,useRef:Mm,useState:function(){return Pu(_i)},useDebugValue:sh,useDeferredValue:function(t,n){var r=me();return Hm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Pu(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:oh,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=me();return Sm(r,Qt,t,n)},useMemoCache:eh,useCacheRefresh:Fm},b0={readContext:ke,use:Bu,useCallback:qm,useContext:ke,useEffect:Um,useImperativeHandle:Pm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:km,useReducer:ih,useRef:Mm,useState:function(){return ih(_i)},useDebugValue:sh,useDeferredValue:function(t,n){var r=me();return Qt===null?lh(r,t,n):Hm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=ih(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:oh,useFormState:Nm,useActionState:Nm,useOptimistic:function(t,n){var r=me();return Qt!==null?Sm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:eh,useCacheRefresh:Fm},ka=null,ul=0;function Gu(t){var n=ul;return ul+=1,ka===null&&(ka=[]),om(ka,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function tg(t){function n(x,D){if(t){var z=x.deletions;z===null?(x.deletions=[D],x.flags|=16):z.push(D)}}function r(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=di(x,D),x.index=0,x.sibling=null,x}function f(x,D,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<D?(x.flags|=67108866,D):z):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,z,G){return D===null||D.tag!==6?(D=Oc(z,x.mode,G),D.return=x,D):(D=c(D,z),D.return=x,D)}function b(x,D,z,G){var at=z.type;return at===Z?j(x,D,z.props.children,G,z.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Wm(at)===D.type)?(D=c(D,z.props),ol(D,z),D.return=x,D):(D=Cu(z.type,z.key,z.props,null,x.mode,G),ol(D,z),D.return=x,D)}function B(x,D,z,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Nc(z,x.mode,G),D.return=x,D):(D=c(D,z.children||[]),D.return=x,D)}function j(x,D,z,G,at){return D===null||D.tag!==7?(D=Hr(z,x.mode,G,at),D.return=x,D):(D=c(D,z),D.return=x,D)}function Y(x,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Oc(""+D,x.mode,z),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return z=Cu(D.type,D.key,D.props,null,x.mode,z),ol(z,D),z.return=x,z;case Q:return D=Nc(D,x.mode,z),D.return=x,D;case S:var G=D._init;return D=G(D._payload),Y(x,D,z)}if(ie(D)||U(D))return D=Hr(D,x.mode,z,null),D.return=x,D;if(typeof D.then=="function")return Y(x,Gu(D),z);if(D.$$typeof===ft)return Y(x,Ou(x,D),z);Qu(x,D)}return null}function P(x,D,z,G){var at=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,D,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===at?b(x,D,z,G):null;case Q:return z.key===at?B(x,D,z,G):null;case S:return at=z._init,z=at(z._payload),P(x,D,z,G)}if(ie(z)||U(z))return at!==null?null:j(x,D,z,G,null);if(typeof z.then=="function")return P(x,D,Gu(z),G);if(z.$$typeof===ft)return P(x,D,Ou(x,z),G);Qu(x,z)}return null}function q(x,D,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(D,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return x=x.get(G.key===null?z:G.key)||null,b(D,x,G,at);case Q:return x=x.get(G.key===null?z:G.key)||null,B(D,x,G,at);case S:var Rt=G._init;return G=Rt(G._payload),q(x,D,z,G,at)}if(ie(G)||U(G))return x=x.get(z)||null,j(D,x,G,at,null);if(typeof G.then=="function")return q(x,D,z,Gu(G),at);if(G.$$typeof===ft)return q(x,D,z,Ou(D,G),at);Qu(D,G)}return null}function mt(x,D,z,G){for(var at=null,Rt=null,st=D,ht=D=0,Ve=null;st!==null&&ht<z.length;ht++){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var Ut=P(x,st,z[ht],G);if(Ut===null){st===null&&(st=Ve);break}t&&st&&Ut.alternate===null&&n(x,st),D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut,st=Ve}if(ht===z.length)return r(x,st),Bt&&Gr(x,ht),at;if(st===null){for(;ht<z.length;ht++)st=Y(x,z[ht],G),st!==null&&(D=f(st,D,ht),Rt===null?at=st:Rt.sibling=st,Rt=st);return Bt&&Gr(x,ht),at}for(st=l(st);ht<z.length;ht++)Ve=q(st,x,ht,z[ht],G),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ht:Ve.key),D=f(Ve,D,ht),Rt===null?at=Ve:Rt.sibling=Ve,Rt=Ve);return t&&st.forEach(function(rr){return n(x,rr)}),Bt&&Gr(x,ht),at}function ct(x,D,z,G){if(z==null)throw Error(a(151));for(var at=null,Rt=null,st=D,ht=D=0,Ve=null,Ut=z.next();st!==null&&!Ut.done;ht++,Ut=z.next()){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var rr=P(x,st,Ut.value,G);if(rr===null){st===null&&(st=Ve);break}t&&st&&rr.alternate===null&&n(x,st),D=f(rr,D,ht),Rt===null?at=rr:Rt.sibling=rr,Rt=rr,st=Ve}if(Ut.done)return r(x,st),Bt&&Gr(x,ht),at;if(st===null){for(;!Ut.done;ht++,Ut=z.next())Ut=Y(x,Ut.value,G),Ut!==null&&(D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut);return Bt&&Gr(x,ht),at}for(st=l(st);!Ut.done;ht++,Ut=z.next())Ut=q(st,x,ht,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),D=f(Ut,D,ht),Rt===null?at=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(RE){return n(x,RE)}),Bt&&Gr(x,ht),at}function Ft(x,D,z,G){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:t:{for(var at=z.key;D!==null;){if(D.key===at){if(at=z.type,at===Z){if(D.tag===7){r(x,D.sibling),G=c(D,z.props.children),G.return=x,x=G;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Wm(at)===D.type){r(x,D.sibling),G=c(D,z.props),ol(G,z),G.return=x,x=G;break t}r(x,D);break}else n(x,D);D=D.sibling}z.type===Z?(G=Hr(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=Cu(z.type,z.key,z.props,null,x.mode,G),ol(G,z),G.return=x,x=G)}return y(x);case Q:t:{for(at=z.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(x,D.sibling),G=c(D,z.children||[]),G.return=x,x=G;break t}else{r(x,D);break}else n(x,D);D=D.sibling}G=Nc(z,x.mode,G),G.return=x,x=G}return y(x);case S:return at=z._init,z=at(z._payload),Ft(x,D,z,G)}if(ie(z))return mt(x,D,z,G);if(U(z)){if(at=U(z),typeof at!="function")throw Error(a(150));return z=at.call(z),ct(x,D,z,G)}if(typeof z.then=="function")return Ft(x,D,Gu(z),G);if(z.$$typeof===ft)return Ft(x,D,Ou(x,z),G);Qu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(x,D.sibling),G=c(D,z),G.return=x,x=G):(r(x,D),G=Oc(z,x.mode,G),G.return=x,x=G),y(x)):r(x,D)}return function(x,D,z,G){try{ul=0;var at=Ft(x,D,z,G);return ka=null,at}catch(st){if(st===Ws||st===Mu)throw st;var Rt=rn(29,st,null,x.mode);return Rt.lanes=G,Rt.return=x,Rt}finally{}}}var Ha=tg(!0),eg=tg(!1),En=K(null),Yn=null;function ji(t){var n=t.alternate;$(Ae,Ae.current&1),$(En,t),Yn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Yn=t)}function ng(t){if(t.tag===22){if($(Ae,Ae.current),$(En,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Gi()}function Gi(){$(Ae,Ae.current),$(En,En.current)}function vi(t){et(En),Yn===t&&(Yn=null),et(Ae)}var Ae=K(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||tf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function hh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=qi(l);c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(on(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(on(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=qi(r);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,r),n!==null&&(on(n,t,r),el(n,t,r))}};function ig(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&fh.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Fu(t)}function sg(t){console.error(t)}function lg(t){Fu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ug(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function dh(t,n,r){return r=qi(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function og(t){return t=qi(t),t.tag=3,t}function cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ug(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ug(n,r,l),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function R0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return Yn===null?zh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Ph(t,l,c)),!1;case 22:return r.flags|=65536,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Ph(t,l,c)),!1}throw Error(a(435,r.tag))}return Ph(t,l,c),zh(),!1}if(Bt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Uc&&(t=Error(a(422),{cause:l}),Ks(pn(t,r)))):(l!==Uc&&(n=Error(a(423),{cause:l}),Ks(pn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,r),c=dh(t.stateNode,l,c),Qc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=pn(f,r),pl===null?pl=[f]:pl.push(f),se!==4&&(se=2),n===null)return!0;l=pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=dh(r.stateNode,l,t),Qc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=og(c),cg(c,t,r,l),Qc(r,c),!1}r=r.return}while(r!==null);return!1}var hg=Error(a(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?eg(n,null,r,l):Ha(n,t.child,r,l)}function fg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Xr(n),l=Zc(t,n,r,y,f,c),E=$c(),t!==null&&!Ce?(Jc(t,n,c),Ei(t,n,c)):(Bt&&E&&Mc(n),n.flags|=1,xe(t,n,l,c),n.child)}function dg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ic(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mg(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Th(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(f,l),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Th(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return mh(t,n,r,l,c)}function gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return pg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?mm(n,f):Fc(),ng(n);else return n.lanes=n.childLanes=536870912,pg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Nu(n,f.cachePool),mm(n,f),Gi(),n.memoizedState=null):(t!==null&&Nu(n,null),Fc(),Gi());return xe(t,n,c,r),n.child}function pg(t,n,r,l){var c=kc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Nu(n,null),Fc(),ng(n),t!==null&&Zs(t,n,l,!0),null}function Ku(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function mh(t,n,r,l,c){return Xr(n),r=Zc(t,n,r,l,void 0,c),l=$c(),t!==null&&!Ce?(Jc(t,n,c),Ei(t,n,c)):(Bt&&l&&Mc(n),n.flags|=1,xe(t,n,r,c),n.child)}function yg(t,n,r,l,c,f){return Xr(n),n.updateQueue=null,r=pm(n,l,r,c),gm(t),l=$c(),t!==null&&!Ce?(Jc(t,n,f),Ei(t,n,f)):(Bt&&l&&Mc(n),n.flags|=1,xe(t,n,r,f),n.child)}function _g(t,n,r,l,c){if(Xr(n),n.stateNode===null){var f=Na,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=fh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},jc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Na,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(hh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&fh.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=$r(r,E);f.props=b;var B=f.context,j=r.contextType;y=Na,typeof j=="object"&&j!==null&&(y=ke(j));var Y=r.getDerivedStateFromProps;j=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&rg(n,f,l,y),Pi=!1;var P=n.memoizedState;f.state=P,il(n,l,f,c),nl(),B=n.memoizedState,E||P!==B||Pi?(typeof Y=="function"&&(hh(n,r,Y,l),B=n.memoizedState),(b=Pi||ig(n,r,b,l,P,B,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Gc(t,n),y=n.memoizedProps,j=$r(r,y),f.props=j,Y=n.pendingProps,P=f.context,B=r.contextType,b=Na,typeof B=="object"&&B!==null&&(b=ke(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==b)&&rg(n,f,l,b),Pi=!1,P=n.memoizedState,f.state=P,il(n,l,f,c),nl();var q=n.memoizedState;y!==Y||P!==q||Pi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(hh(n,r,E,l),q=n.memoizedState),(j=Pi||ig(n,r,j,l,P,q,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function vg(t,n,r,l){return Xs(),n.flags|=256,xe(t,n,r,l),n.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ph(t){return{baseLanes:t,cachePool:sm()}}function yh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Tn),t}function Eg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ji(n):Gi(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:jr!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,ae=null,b=!0):b=!1}b||Yr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return tf(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Gi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Hr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ph(r),c.childLanes=yh(t,y,r),n.memoizedState=gh,l):(ji(n),_h(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ji(n),n.flags&=-257,n=vh(t,n,r)):n.memoizedState!==null?(Gi(),n.child=t.child,n.flags|=128,n=null):(Gi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Hr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=ph(r),l.childLanes=yh(t,y,r),n.memoizedState=gh,n=c);else if(ji(n),tf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(a(419)),l.stack="",l.digest=y,Ks({value:l,source:null,stack:null}),n=vh(t,n,r)}else if(Ce||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),on(y,t,l),hg;E.data==="$?"||zh(),n=vh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Ke=n,Bt=!0,Qr=null,Qn=!1,t!==null&&(_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=jr,mi=t.id,gi=t.overflow,jr=n),n=_h(n,l.children),n.flags|=4096);return n}return c?(Gi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=di(B,c):(c=Hr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ph(r):(b=E.cachePool,b!==null?(B=Te._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=yh(t,y,r),n.memoizedState=gh,l):(ji(n),r=t.child,t=r.sibling,r=di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function _h(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vh(t,n,r){return Ha(n,t.child,null,r),t=_h(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),zc(t.return,n,r)}function Eh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ag(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tg(t,r,n);else if(t.tag===19)Tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Eh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Eh(n,!0,r,null,f);break;case"together":Eh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ki|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Th(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function w0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,Te,t.memoizedState.cache),Xs();break;case 27:case 5:Ii(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Eg(t,n,r):(ji(n),t=Ei(t,n,r),t!==null?t.sibling:null);ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ag(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,gg(t,n,r);case 24:Bi(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function Sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Th(t,r)&&(n.flags&128)===0)return Ce=!1,w0(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&Wd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ic(l)?(t=$r(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=mh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=fg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=dg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(a(306,n,""))}}return n;case 0:return mh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=$r(l,n.pendingProps),_g(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Gc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Bi(n,Te,l),l!==f.cache&&Bc(n,[Te],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vg(t,n,l,r);break t}else if(l!==c){c=pn(Error(a(424)),n),Ks(c),n=vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Ke=n,Bt=!0,Qr=null,Qn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xs(),l===c){n=Ei(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Ku(t,n),t===null?(r=Cp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=co(pt.current).createElement(r),l[_e]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=Cp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Bt&&(l=n.stateNode=bp(n.type,n.pendingProps,pt.current),Ke=n,Qn=!0,c=ae,Wi(n.type)?(ef=c,ae=In(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=tE(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Ke=n,ae=In(l.firstChild),Qn=!1,c=!0):c=!1),c||Yr(n)),Ii(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,$h(c,f)?l=null:y!==null&&$h(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Zc(t,n,_0,null,null,r),Rl._currentValue=c),Ku(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=eE(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Ke=n,ae=null,t=!0):t=!1),t||Yr(n)),null;case 13:return Eg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):xe(t,n,l,r),n.child;case 11:return fg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xr(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return dg(t,n,n.type,n.pendingProps,r);case 15:return mg(t,n,n.type,n.pendingProps,r);case 19:return Ag(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=di(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return gg(t,n,r);case 24:return Xr(n),l=ke(Te),t===null?(c=kc(),c===null&&(c=$t,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},jc(n),Bi(n,Te,c)):((t.lanes&r)!==0&&(Gc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,Te,l)):(l=f.cache,Bi(n,Te,l),l!==c.cache&&Bc(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ti(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Np(n)){if(n=En.current,n!==null&&((Ot&4194048)===Ot?Yn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Yn))throw tl=Hc,lm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Cs():536870912,t.lanes|=n,Ya|=n)}function cl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function C0(t,n,r){var l=n.pendingProps;switch(xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Te),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ti(n),r!==null?(ee(n),bg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ti(n),ee(n),bg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),ee(n),n.flags&=-16777217),null;case 27:ti(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ot.current,Fs(n)?tm(n):(t=bp(c,l,r),n.stateNode=t,Ti(n))}return ee(n),null;case 5:if(ti(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ot.current,Fs(n))tm(n);else{switch(c=co(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||yp(t.nodeValue,r)),t||Yr(n)}else t=co(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return Mn(),t===null&&Yh(n.stateNode.containerInfo),ee(n),null;case 10:return yi(n.type),ee(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Jd(r,t),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>to&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ee(n),null}else 2*cn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),Xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),yi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function D0(t,n){switch(xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Te),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return Mn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),Xc(),t!==null&&et(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function Rg(t,n){switch(xc(n),n.tag){case 3:yi(Te),Mn();break;case 26:case 27:case 5:ti(n);break;case 4:Mn();break;case 13:vi(n);break;case 19:et(Ae);break;case 10:yi(n.type);break;case 22:case 23:vi(n),Xc(),t!==null&&et(Kr);break;case 24:yi(Te)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Qi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,B=E;try{B()}catch(j){Xt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Xt(n,n.return,j)}}function wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dm(n,r)}catch(l){Xt(t,t.return,l)}}}function Cg(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Ah(t,n,r){try{var l=t.stateNode;K0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function Sh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(bh(t,n,r),t=t.sibling;t!==null;)bh(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Ig(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[_e]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Ai=!1,oe=!1,Rh=!1,Og=typeof WeakSet=="function"?WeakSet:Set,De=null;function V0(t,n){if(t=t.containerInfo,Kh=yo,t=Hd(t),Sc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,B=0,j=0,Y=t,P=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===r&&++B===c&&(E=y),P===f&&++j===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zh={focusedElem:t,selectionRange:r},yo=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=$r(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Wh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Ng(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&hl(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&wg(r),l&512&&fl(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Ig(r);case 26:case 5:Yi(t,r),n===null&&l&4&&Dg(r),l&512&&fl(r,r.return);break;case 12:Yi(t,r);break;case 13:Yi(t,r),l&4&&Ug(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=B0.bind(null,r),nE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||oe,c=Ai;var f=oe;Ai=l,(oe=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Ai=c,oe=f}break;case 30:break;default:Yi(t,r)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,$e=!1;function Si(t,n,r){for(r=r.child;r!==null;)xg(t,n,r),r=r.sibling}function xg(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Fn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Fn(r,n);var l=te,c=$e;Wi(r.type)&&(te=r.stateNode,$e=!1),Si(t,n,r),Tl(r.stateNode),te=l,$e=c;break;case 5:oe||Fn(r,n);case 6:if(l=te,c=$e,te=null,Si(t,n,r),te=l,$e=c,te!==null)if($e)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&($e?(t=te,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Ap(te,r.stateNode));break;case 4:l=te,c=$e,te=r.stateNode.containerInfo,$e=!0,Si(t,n,r),te=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Qi(2,r,n),oe||Qi(4,r,n),Si(t,n,r);break;case 1:oe||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Si(t,n,r),oe=l;break;default:Si(t,n,r)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Xt(n,n.return,r)}}function I0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(a(435,t.tag))}}function wh(t,n){var r=I0(t);n.forEach(function(l){var c=P0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function an(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Wi(E.type)){te=E.stateNode,$e=!1;break t}break;case 5:te=E.stateNode,$e=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(te===null)throw Error(a(160));xg(f,y,c),te=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Vn=null;function Lg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(Qi(3,t,t.return),hl(3,t),Qi(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(oe||r===null||Fn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(an(n,t),sn(t),l&512&&(oe||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var y=Ip("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Ip("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else Op(c,t.type,t.stateNode);else t.stateNode=Vp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Op(c,t.type,t.stateNode):Vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ah(t,t.memoizedProps,r.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(oe||r===null||Fn(r,r.return)),r!==null&&l&4&&Ah(t,t.memoizedProps,r.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(oe||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ah(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Rh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(mo=null,c=Vn,Vn=ho(n.containerInfo),an(n,t),Vn=c,sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Rh&&(Rh=!1,zg(t));break;case 4:l=Vn,Vn=ho(t.stateNode.containerInfo),an(n,t),sn(t),Vn=l;break;case 12:an(n,t),sn(t);break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Nh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,B=Ai,j=oe;if(Ai=B||c,oe=j||b,an(n,t),oe=j,Ai=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ai||oe||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,wh(t,r))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wh(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Vg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Sh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(fn(y,""),r.flags&=-33);var E=Sh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,B=Sh(t);bh(t,B,b);break;default:throw Error(a(161))}}catch(j){Xt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),Jr(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cg(n,n.return,r),Jr(n);break;case 27:Tl(n.stateNode);case 26:case 5:Fn(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,r),hl(4,f);break;case 1:if(Fi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fm(b[c],E)}catch(B){Xt(l,l.return,B)}}r&&y&64&&wg(f),fl(f,f.return);break;case 27:Ig(f);case 26:case 5:Fi(c,f,r),r&&l===null&&y&4&&Dg(f),fl(f,f.return);break;case 12:Fi(c,f,r);break;case 13:Fi(c,f,r),r&&y&4&&Ug(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,r),fl(f,f.return);break;case 30:break;default:Fi(c,f,r)}n=n.sibling}}function Ch(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function Dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,r,l),n=n.sibling}function Bg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):dl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ch(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Dh(n.alternate,n);break;default:Xn(t,n,r,l)}}function ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?ja(f,y,E,b,c):dl(f,y):(j._visibility|=2,ja(f,y,E,b,c)),c&&B&2048&&Ch(y.alternate,y);break;case 24:ja(f,y,E,b,c),c&&B&2048&&Dh(y.alternate,y);break;default:ja(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Ch(l.alternate,l);break;case 24:dl(r,l),c&2048&&Dh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Ga(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 26:Ga(t),t.flags&ml&&t.memoizedState!==null&&gE(Vn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var n=Vn;Vn=ho(t.stateNode.containerInfo),Ga(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Ga(t),ml=n):Ga(t));break;default:Ga(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Hg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):gl(t);break;default:gl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Hg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Hg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Qi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Mg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var O0={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},N0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Ot=0,jt=0,ln=null,Xi=!1,Qa=!1,Vh=!1,bi=0,se=0,Ki=0,Wr=0,Ih=0,Tn=0,Ya=0,pl=null,Je=null,Oh=!1,Nh=0,to=1/0,eo=null,Zi=null,Ue=0,$i=null,Fa=null,Xa=0,Mh=0,xh=null,jg=null,yl=0,Uh=null;function un(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Ua;return t!==0?t:Hh()}return Ni()}function Gg(){Tn===0&&(Tn=(Ot&536870912)===0||Bt?ws():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function on(t,n,r){(t===$t&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ji(t,Ot,Tn,!1)),ni(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(Wr|=r),se===4&&Ji(t,Ot,Tn,!1)),Kn(t))}function Qg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Rr(t,n),c=l?U0(t,n):Bh(t,n,!0),f=l;do{if(c===0){Qa&&!l&&Ji(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!M0(r)){c=Bh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Ka(E,y).flags|=256),y=Bh(E,y,!1),y!==2){if(Vh&&!b){E.errorRecoveryDisabledLanes|=f,Wr|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ka(t,0),Ji(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ji(l,n,Tn,!Xi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Nh+300-cn(),10<c)){if(Ji(l,n,Tn,!Xi),fa(l,0,!0)!==0)break t;l.timeoutHandle=Ep(Yg.bind(null,l,r,Je,eo,Oh,n,Tn,Wr,Ya,Xi,f,2,-0,0),c);break t}Yg(l,r,Je,eo,Oh,n,Tn,Wr,Ya,Xi,f,0,-0,0)}}break}while(!0);Kn(t)}function Yg(t,n,r,l,c,f,y,E,b,B,j,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:mE},Pg(n),Y=pE(),Y!==null)){t.cancelPendingCommit=Y(Wg.bind(null,t,n,f,r,l,c,y,E,b,j,1,P,q)),Ji(t,f,y,!B);return}Wg(t,n,f,r,l,c,y,E,b)}function M0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(t,n,r,l){n&=~Ih,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&xn(t,r,n)}function no(){return(Ht&6)===0?(_l(0),!1):!0}function Lh(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,pi=Fr=null,Wc(t),ka=null,ul=0,t=wt;for(;t!==null;)Rg(t.alternate,t),t=t.return;wt=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Lh(),$t=t,wt=r=di(t.current,null),Ot=n,jt=0,ln=null,Xi=!1,Qa=Rr(t,n),Vh=!1,Ya=Tn=Ih=Wr=Ki=se=0,Je=pl=null,Oh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return bi=n,bu(),r}function Fg(t,n){Tt=null,H.H=ju,n===Ws||n===Mu?(n=cm(),jt=3):n===lm?(n=cm(),jt=4):jt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,wt===null&&(se=1,Xu(t,pn(n,t.current)))}function Xg(){var t=H.H;return H.H=ju,t===null?ju:t}function Kg(){var t=H.A;return H.A=O0,t}function zh(){se=4,Xi||(Ot&4194048)!==Ot&&En.current!==null||(Qa=!0),(Ki&134217727)===0&&(Wr&134217727)===0||$t===null||Ji($t,Ot,Tn,!1)}function Bh(t,n,r){var l=Ht;Ht|=2;var c=Xg(),f=Kg();($t!==t||Ot!==n)&&(eo=null,Ka(t,n)),n=!1;var y=se;t:do try{if(jt!==0&&wt!==null){var E=wt,b=ln;switch(jt){case 8:Lh(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var B=jt;if(jt=0,ln=null,Za(t,E,b,B),r&&Qa){y=0;break t}break;default:B=jt,jt=0,ln=null,Za(t,E,b,B)}}x0(),y=se;break}catch(j){Fg(t,j)}while(!0);return n&&t.shellSuspendCounter++,pi=Fr=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,Ot=0,bu()),y}function x0(){for(;wt!==null;)Zg(wt)}function U0(t,n){var r=Ht;Ht|=2;var l=Xg(),c=Kg();$t!==t||Ot!==n?(eo=null,to=cn()+500,Ka(t,n)):Qa=Rr(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=ln;e:switch(jt){case 1:jt=0,ln=null,Za(t,n,f,1);break;case 2:case 9:if(um(f)){jt=0,ln=null,$g(n);break}n=function(){jt!==2&&jt!==9||$t!==t||(jt=7),Kn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:um(f)?(jt=0,ln=null,$g(n)):(jt=0,ln=null,Za(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Np(y)){jt=0,ln=null;var b=E.sibling;if(b!==null)wt=b;else{var B=E.return;B!==null?(wt=B,io(B)):wt=null}break e}}jt=0,ln=null,Za(t,n,f,5);break;case 6:jt=0,ln=null,Za(t,n,f,6);break;case 8:Lh(),se=6;break t;default:throw Error(a(462))}}L0();break}catch(j){Fg(t,j)}while(!0);return pi=Fr=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,Ot=0,bu(),se)}function L0(){for(;wt!==null&&!As();)Zg(wt)}function Zg(t){var n=Sg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function $g(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=yg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Wc(n);default:Rg(r,n),n=wt=Jd(n,bi),n=Sg(r,n,bi)}t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function Za(t,n,r,l){pi=Fr=null,Wc(n),ka=null,ul=0;var c=n.return;try{if(R0(t,c,n,r,Ot)){se=1,Xu(t,pn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;se=1,Xu(t,pn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Qa||(Ot&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Jg(n,Xi);return}t=n.return;var r=C0(n.alternate,n,bi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function Jg(t,n){do{var r=D0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);se=6,wt=null}function Wg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Dc,Ds(t,r,f,y,E,b),t===$t&&(wt=$t=null,Ot=0),Fa=n,$i=t,Xa=r,Mh=f,xh=c,jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q0(Tr,function(){return rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{V0(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,tp(),ep(),np()}}function tp(){if(Ue===1){Ue=0;var t=$i,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Lg(n,t);var f=Zh,y=Hd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&kd(E.ownerDocument.documentElement,E)){if(b!==null&&Sc(E)){var B=b.start,j=b.end;if(j===void 0&&(j=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(j,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Ft=b.end===void 0?ct:Math.min(b.end,mt);!q.extend&&ct>Ft&&(y=Ft,Ft=ct,ct=y);var x=qd(E,ct),D=qd(E,Ft);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),ct>Ft?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yo=!!Kh,Zh=Kh=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,Ue=2}}function ep(){if(Ue===2){Ue=0;var t=$i,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ng(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}Ue=3}}function np(){if(Ue===4||Ue===3){Ue=0,Wl();var t=$i,n=Fa,r=Xa,l=jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Fa=$i=null,ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Zi=null),da(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Xa&3)!==0&&ro(),Kn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Uh?yl++:(yl=0,Uh=t):yl=0,_l(0)}}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function ro(t){return tp(),ep(),np(),rp()}function rp(){if(Ue!==5)return!1;var t=$i,n=Mh;Mh=0;var r=da(Xa),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=xh,xh=null;var f=$i,y=Xa;if(Ue=0,Fa=$i=null,Xa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,kg(f.current),Bg(f,f.current,y,r),Ht=E,_l(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,ip(t,n)}}function ap(t,n,r){n=pn(r,n),n=dh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Kn(t))}function Xt(t,n,r){if(t.tag===3)ap(t,t,r);else for(;n!==null;){if(n.tag===3){ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=pn(r,t),r=og(2),l=ki(n,r,2),l!==null&&(cg(r,l,n,t),ni(l,2),Kn(l));break}}n=n.return}}function Ph(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new N0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Vh=!0,c.add(r),t=z0.bind(null,t,n,r),n.then(t,t))}function z0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(se===4||se===3&&(Ot&62914560)===Ot&&300>cn()-Nh?(Ht&2)===0&&Ka(t,0):Ih|=r,Ya===Ot&&(Ya=0)),Kn(t)}function sp(t,n){n===0&&(n=Cs()),t=Oa(t,n),t!==null&&(ni(t,n),Kn(t))}function B0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sp(t,r)}function P0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sp(t,r)}function q0(t,n){return vr(t,n)}var ao=null,$a=null,qh=!1,so=!1,kh=!1,ta=0;function Kn(t){t!==$a&&t.next===null&&($a===null?ao=$a=t:$a=$a.next=t),so=!0,qh||(qh=!0,H0())}function _l(t,n){if(!kh&&so){kh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cp(l,f))}else f=Ot,f=fa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rr(l,f)||(r=!0,cp(l,f));l=l.next}while(r);kh=!1}}function k0(){lp()}function lp(){so=qh=!1;var t=0;ta!==0&&(Z0()&&(t=ta),ta=0);for(var n=cn(),r=null,l=ao;l!==null;){var c=l.next,f=up(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}_l(t)}function up(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=fa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Er(l),da(r)){case 2:case 8:r=ca;break;case 32:r=Tr;break;case 268435456:r=ha;break;default:r=Tr}return l=op.bind(null,t),r=vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function op(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=Ot;return l=fa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qg(t,l,n),up(t,cn()),t.callbackNode!=null&&t.callbackNode===r?op.bind(null,t):null)}function cp(t,n){if(ro())return null;Qg(t,n,!0)}function H0(){J0(function(){(Ht&6)!==0?vr(Ss,k0):lp()})}function Hh(){return ta===0&&(ta=ws()),ta}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function fp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function j0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=hp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?hp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ea("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var b=y?fp(c,y):new FormData(c);uh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?fp(c,y):new FormData(c),uh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var jh=0;jh<Cc.length;jh++){var Gh=Cc[jh],G0=Gh.toLowerCase(),Q0=Gh[0].toUpperCase()+Gh.slice(1);Dn(G0,"on"+Q0)}Dn(Qd,"onAnimationEnd"),Dn(Yd,"onAnimationIteration"),Dn(Fd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(u0,"onTransitionRun"),Dn(o0,"onTransitionStart"),Dn(c0,"onTransitionCancel"),Dn(Xd,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function dp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(j){Fu(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(j){Fu(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(mp(n,t,2,!1),r.add(l))}function Qh(t,n,r){var l=0;n&&(l|=4),mp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[lo]){t[lo]=!0,Os.forEach(function(r){r!=="selectionchange"&&(Y0.has(r)||Qh(r,!1,t),Qh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Qh("selectionchange",!1,n))}}function mp(t,n,r,l){switch(Bp(n)){case 2:var c=vE;break;case 8:c=EE;break;default:c=lf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Fh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var B=f,j=dn(r),Y=[];t:{var P=Kd.get(t);if(P!==void 0){var q=Ea,mt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=wa;break;case"focusin":mt="focus",q=Sa;break;case"focusout":mt="blur",q=Sa;break;case"beforeblur":case"afterblur":q=Sa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case Qd:case Yd:case Fd:q=ba;break;case Xd:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=Ca;break;case"copy":case"cut":case"paste":q=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=js;break;case"toggle":case"beforetoggle":q=Tu}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),x=ct?P!==null?P+"Capture":null:P;ct=[];for(var D=B,z;D!==null;){var G=D;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=Mr(D,x),G!=null&&ct.push(El(D,G,z))),Ft)break;D=D.return}0<ct.length&&(P=new q(P,mt,null,r,j),Y.push({event:P,listeners:ct}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==li&&(mt=r.relatedTarget||r.fromElement)&&(ii(mt)||mt[hn]))break t;if((q||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=B,mt=mt?ii(mt):null,mt!==null&&(Ft=h(mt),ct=mt.tag,mt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(q=null,mt=B),q!==mt)){if(ct=gn,G="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ct=js,G="onPointerLeave",x="onPointerEnter",D="pointer"),Ft=q==null?P:Ln(q),z=mt==null?P:Ln(mt),P=new ct(G,D+"leave",q,r,j),P.target=Ft,P.relatedTarget=z,G=null,ii(j)===B&&(ct=new ct(x,D+"enter",mt,r,j),ct.target=z,ct.relatedTarget=Ft,G=ct),Ft=G,q&&mt)e:{for(ct=q,x=mt,D=0,z=ct;z;z=Ja(z))D++;for(z=0,G=x;G;G=Ja(G))z++;for(;0<D-z;)ct=Ja(ct),D--;for(;0<z-D;)x=Ja(x),z--;for(;D--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=Ja(ct),x=Ja(x)}ct=null}else ct=null;q!==null&&gp(Y,P,q,ct,!1),mt!==null&&Ft!==null&&gp(Y,Ft,mt,ct,!0)}}t:{if(P=B?Ln(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var at=xd;else if(Ee(P))if(Ud)at=a0;else{at=i0;var Rt=n0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Ls(B.elementType)&&(at=xd):at=r0;if(at&&(at=at(t,B))){fi(Y,at,r,j);break t}Rt&&Rt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Li(P,"number",P.value)}switch(Rt=B?Ln(B):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Da=Rt,bc=B,Ys=null);break;case"focusout":Ys=bc=Da=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,jd(Y,r,j);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":jd(Y,r,j)}var st;if(jn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(g&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=Bs()):(Pn=j,zi="value"in Pn?Pn.value:Pn.textContent,Vt=!0)),Rt=uo(B,ht),0<Rt.length&&(ht=new ks(ht,t,null,r,j),Y.push({event:ht,listeners:Rt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?ve(t,r):It(t,r))&&(ht=uo(B,"onBeforeInput"),0<ht.length&&(Rt=new ks("onBeforeInput","beforeinput",null,r,j),Y.push({event:Rt,listeners:ht}),Rt.data=st)),j0(Y,t,B,r,j)}dp(Y,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Mr(t,r),c!=null&&l.unshift(El(t,c,f)),c=Mr(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Mr(r,f),B!=null&&y.unshift(El(r,B,b))):c||(B=Mr(r,f),B!=null&&y.push(El(r,B,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var F0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(X0,"")}function yp(t,n){return n=pp(n),pp(t)===n}function oo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yc.get(r)||r,Ui(t,r,l))}}function Xh(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ui(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":B=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Yt(t,n,l,j,r,null)}}Ir(t,f,E,b,B,y,c,!1),_a(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):r!=null&&si(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Or(t,l,c,f),_a(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Ls(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Xh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function K0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,j=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":j=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Yt(t,n,P,q,l,Y)}}en(t,y,E,b,B,j,f,c);return;case"select":q=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=q,P!=null?si(t,!!r,P,!1):!!l!=!!r&&(n!=null?si(t,!!r,n,!0):si(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Gt(t,P,q);return;case"option":for(var mt in r)if(P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Yt(t,n,mt,null,l,P)}for(b in l)if(P=l[b],q=r[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Yt(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)P=r[ct],r.hasOwnProperty(ct)&&P!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,P);for(B in l)if(P=l[B],q=r[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Yt(t,n,B,P,l,q)}return;default:if(Ls(n)){for(var Ft in r)P=r[Ft],r.hasOwnProperty(Ft)&&P!==void 0&&!l.hasOwnProperty(Ft)&&Xh(t,n,Ft,void 0,l,P);for(j in l)P=l[j],q=r[j],!l.hasOwnProperty(j)||P===q||P===void 0&&q===void 0||Xh(t,n,j,P,l,q);return}}for(var x in r)P=r[x],r.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,P);for(Y in l)P=l[Y],q=r[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Yt(t,n,Y,P,l,q)}var Kh=null,Zh=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function Z0(){var t=window.event;return t&&t.type==="popstate"?t===Jh?!1:(Jh=t,!0):(Jh=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(W0)}:Ep;function W0(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function Ap(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[wr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function Wh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wh(r),xi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function eE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var ef=null;function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xi(t)}var An=new Map,Rp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=tt.d;tt.d={f:iE,r:rE,D:aE,C:sE,L:lE,m:uE,X:cE,S:oE,M:hE};function iE(){var t=Ri.f(),n=no();return t||n}function rE(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):Ri.r(t)}var Wa=typeof document>"u"?null:document;function wp(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function aE(t){Ri.D(t),wp("dns-prefetch",t,null)}function sE(t,n){Ri.C(t,n),wp("preconnect",t,n)}function lE(t,n,r){Ri.L(t,n,r);var l=Wa;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ts(t);break;case"script":f=es(t)}An.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function uE(t,n){Ri.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=es(t)}if(!An.has(f)&&(t=A({rel:"modulepreload",href:t},n),An.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function oE(t,n,r){Ri.S(t,n,r);var l=Wa;if(l&&t){var c=Ye(l).hoistableStyles,f=ts(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=An.get(f))&&nf(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(B,j){b.onload=B,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function cE(t,n){Ri.X(t,n);var r=Wa;if(r&&t){var l=Ye(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=An.get(c))&&rf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hE(t,n){Ri.M(t,n);var r=Wa;if(r&&t){var l=Ye(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=An.get(c))&&rf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Cp(t,n,r,l){var c=(c=pt.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ts(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(t,r),f||fE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ts(t){return'href="'+fe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function fE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function es(t){return'[src="'+fe(t)+'"]'}function Sl(t){return"script[async]"+t}function Vp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ts(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Dp(r),(c=An.get(c))&&nf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=es(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,le(c),c):(l=r,(c=An.get(f))&&(l=A({},r),rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Ip(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[wr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Op(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Np(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function mE(){}function gE(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Dp(r),(c=An.get(c))&&nf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function pE(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&af(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&af(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(yE,t),po=null,go.call(t))}function yE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function _E(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Mp(t,n,r,l,c,f,y,E,b,B,j,Y){return t=new _E(t,n,r,y,E,b,B,Y),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},jc(f),t}function xp(t){return t?(t=Na,t):Na}function Up(t,n,r,l,c,f){c=xp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ki(t,l,n),r!==null&&(on(r,t,n),el(r,t,n))}function Lp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function sf(t,n){Lp(t,n),(t=t.alternate)&&Lp(t,n)}function zp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&on(n,t,67108864),sf(t,67108864)}}var yo=!0;function vE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,lf(t,n,r,l)}finally{tt.p=f,H.T=c}}function EE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,lf(t,n,r,l)}finally{tt.p=f,H.T=c}}function lf(t,n,r,l){if(yo){var c=uf(l);if(c===null)Fh(t,n,l,_o,r),Pp(t,l);else if(AE(c,t,n,r,l))l.stopPropagation();else if(Pp(t,l),n&4&&-1<TE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Kn(f),(Ht&6)===0&&(to=cn()+500,_l(0))}}break;case 13:E=Oa(f,2),E!==null&&on(E,f,2),no(),sf(f,2)}if(f=uf(l),f===null&&Fh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Fh(t,n,l,null,r)}}function uf(t){return t=dn(t),of(t)}var _o=null;function of(t){if(_o=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Bp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hc()){case Ss:return 2;case ca:return 8;case Tr:case fc:return 32;case ha:return 268435456;default:return 32}default:return 32}}var cf=!1,tr=null,er=null,nr=null,wl=new Map,Cl=new Map,ir=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function AE(t,n,r,l,c){switch(n){case"focusin":return tr=Dl(tr,t,n,r,l,c),!0;case"dragenter":return er=Dl(er,t,n,r,l,c),!0;case"mouseover":return nr=Dl(nr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function qp(t){var n=ii(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=un();l=Oi(l);var c=Oa(r,l);c!==null&&on(c,r,l),sf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);li=l,r.target.dispatchEvent(l),li=null}else return n=Un(r),n!==null&&zp(n),t.blockedOn=r,!1;n.shift()}return!0}function kp(t,n,r){vo(t)&&r.delete(n)}function SE(){cf=!1,tr!==null&&vo(tr)&&(tr=null),er!==null&&vo(er)&&(er=null),nr!==null&&vo(nr)&&(nr=null),wl.forEach(kp),Cl.forEach(kp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SE)))}var To=null;function Hp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(of(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,uh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Eo(b,t)}tr!==null&&Eo(tr,t),er!==null&&Eo(er,t),nr!==null&&Eo(nr,t),wl.forEach(n),Cl.forEach(n);for(var r=0;r<ir.length;r++){var l=ir[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)qp(r),r.blockedOn===null&&ir.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Hp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(of(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Hp(r)}}}function hf(t){this._internalRoot=t}Ao.prototype.render=hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=un();Up(r,l,t,n,null,null)},Ao.prototype.unmount=hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Up(t.current,2,null,t,null,null),no(),n[hn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ni();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ir.length&&n!==0&&n<ir[r].priority;r++);ir.splice(r,0,t),r===0&&qp(t)}};var jp=e.version;if(jp!=="19.1.0")throw Error(a(527,jp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var bE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{re=So.inject(bE),kt=So}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ag,f=sg,y=lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Mp(t,1,!1,null,null,r,l,c,f,y,E,null),t[hn]=n.current,Yh(t),new hf(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ag,y=sg,E=lg,b=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Mp(t,1,!0,n,r??null,l,c,f,y,E,b,B),n.context=xp(null),r=n.current,l=un(),l=Oi(l),c=qi(l),c.callback=null,ki(r,c,l),r=l,n.current.lanes=r,ni(n,r),Kn(n),t[hn]=n.current,Yh(t),new Ao(n)},Ol.version="19.1.0",Ol}var Wp;function xE(){if(Wp)return mf.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mf.exports=ME(),mf.exports}var UE=xE();const LE=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},zE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,V=(h&3)<<4|p>>4;let M=(p&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(M=64)),a.push(i[A],i[V],i[M],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(h_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):zE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||V==null)throw new BE;const M=h<<2|p>>4;if(a.push(M),v!==64){const Q=p<<4&240|v>>2;if(a.push(Q),V!==64){const Z=v<<6&192|V;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class BE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PE=function(s){const e=h_(s);return f_.encodeByteArray(e,!0)},Lo=function(s){return PE(s).replace(/\./g,"")},qE=function(s){try{return f_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=()=>kE().__FIREBASE_DEFAULTS__,jE=()=>{if(typeof process>"u"||typeof ty>"u")return;const s=ty.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&qE(s[1]);return e&&JSON.parse(e)},Kf=()=>{try{return LE()||HE()||jE()||GE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QE=s=>{var e,i;return(i=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},YE=s=>{const e=QE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},d_=()=>{var s;return(s=Kf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){return s.endsWith(".cloudworkstations.dev")}async function XE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Lo(JSON.stringify(i)),Lo(JSON.stringify(d)),""].join(".")}const Ul={};function ZE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function $E(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ey=!1;function JE(s,e){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Ul[s]===e||Ul[s]||ey)return;Ul[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=ZE().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{ey=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function V(){const M=$E(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),St=i("preprendIcon"),gt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),A(J,nt);const xt=v();_(gt,St),ft.append(gt,Z,J,xt),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){var s;const e=(s=Kf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){return!tT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rT,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m_.prototype.create)}}class m_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?aT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new ps(u,p,a)}}function aT(s,e){return s.replace(sT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const sT=/\{\$([^}]+)}/g;function zo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ny(h)&&ny(d)){if(!zo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new FE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),u=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oT(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(s){return s===ea?void 0:s}function oT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new lT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const hT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},fT=Mt.INFO,dT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},mT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=dT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g_{constructor(e){this.name=e,this._logLevel=fT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const gT=(s,e)=>e.some(i=>s instanceof i);let iy,ry;function pT(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p_=new WeakMap,wf=new WeakMap,y_=new WeakMap,_f=new WeakMap,$f=new WeakMap;function _T(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(lr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&p_.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function vT(s){if(wf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});wf.set(s,e)}let Cf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||y_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ET(s){Cf=s(Cf)}function TT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(vf(this),e,...i);return y_.set(a,e.sort?e.sort():[e]),lr(a)}:yT().includes(s)?function(...e){return s.apply(vf(this),e),lr(p_.get(this))}:function(...e){return lr(s.apply(vf(this),e))}}function AT(s){return typeof s=="function"?TT(s):(s instanceof IDBTransaction&&vT(s),gT(s,pT())?new Proxy(s,Cf):s)}function lr(s){if(s instanceof IDBRequest)return _T(s);if(_f.has(s))return _f.get(s);const e=AT(s);return e!==s&&(_f.set(s,e),$f.set(e,s)),e}const vf=s=>$f.get(s);function ST(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=lr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(lr(d.result),_.oldVersion,_.newVersion,lr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const bT=["get","getKey","getAll","getAllKeys","count"],RT=["put","add","delete","clear"],Ef=new Map;function ay(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=RT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||bT.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Ef.set(e,h),h}ET(s=>({...s,get:(e,i,a)=>ay(e,i)||s.get(e,i,a),has:(e,i)=>!!ay(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CT(s){const e=s.getComponent();return e?.type==="VERSION"}const Df="@firebase/app",sy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new g_("@firebase/app"),DT="@firebase/app-compat",VT="@firebase/analytics-compat",IT="@firebase/analytics",OT="@firebase/app-check-compat",NT="@firebase/app-check",MT="@firebase/auth",xT="@firebase/auth-compat",UT="@firebase/database",LT="@firebase/data-connect",zT="@firebase/database-compat",BT="@firebase/functions",PT="@firebase/functions-compat",qT="@firebase/installations",kT="@firebase/installations-compat",HT="@firebase/messaging",jT="@firebase/messaging-compat",GT="@firebase/performance",QT="@firebase/performance-compat",YT="@firebase/remote-config",FT="@firebase/remote-config-compat",XT="@firebase/storage",KT="@firebase/storage-compat",ZT="@firebase/firestore",$T="@firebase/ai",JT="@firebase/firestore-compat",WT="firebase",t1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",e1={[Df]:"fire-core",[DT]:"fire-core-compat",[IT]:"fire-analytics",[VT]:"fire-analytics-compat",[NT]:"fire-app-check",[OT]:"fire-app-check-compat",[MT]:"fire-auth",[xT]:"fire-auth-compat",[UT]:"fire-rtdb",[LT]:"fire-data-connect",[zT]:"fire-rtdb-compat",[BT]:"fire-fn",[PT]:"fire-fn-compat",[qT]:"fire-iid",[kT]:"fire-iid-compat",[HT]:"fire-fcm",[jT]:"fire-fcm-compat",[GT]:"fire-perf",[QT]:"fire-perf-compat",[YT]:"fire-rc",[FT]:"fire-rc-compat",[XT]:"fire-gcs",[KT]:"fire-gcs-compat",[ZT]:"fire-fst",[JT]:"fire-fst-compat",[$T]:"fire-vertex","fire-js":"fire-js",[WT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,n1=new Map,If=new Map;function ly(s,e){try{s.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Po(s){const e=s.name;if(If.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,s);for(const i of Bo.values())ly(i,s);for(const i of n1.values())ly(i,s);return!0}function i1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function r1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new m_("app","Firebase",a1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=t1;function __(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Vf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw ur.create("bad-app-name",{appName:String(u)});if(i||(i=d_()),!i)throw ur.create("no-options");const h=Bo.get(u);if(h){if(zo(i,h.options)&&zo(a,h.config))return h;throw ur.create("duplicate-app",{appName:u})}const d=new cT(u);for(const _ of If.values())d.addComponent(_);const p=new s1(i,a,d);return Bo.set(u,p),p}function u1(s=Vf){const e=Bo.get(s);if(!e&&s===Vf&&d_())return __();if(!e)throw ur.create("no-app",{appName:s});return e}function ss(s,e,i){var a;let u=(a=e1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(p.join(" "));return}Po(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",c1=1,kl="firebase-heartbeat-store";let Tf=null;function v_(){return Tf||(Tf=ST(o1,c1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Tf}async function h1(s){try{const i=(await v_()).transaction(kl),a=await i.objectStore(kl).get(E_(s));return await i.done,a}catch(e){if(e instanceof ps)Ci.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(i.message)}}}async function uy(s,e){try{const a=(await v_()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,E_(s)),await a.done}catch(i){if(i instanceof ps)Ci.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});Ci.warn(a.message)}}}function E_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1024,d1=30;class m1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new p1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>d1){const d=y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ci.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=oy(),{heartbeatsToSend:a,unsentEntries:u}=g1(this._heartbeatsCache.heartbeats),h=Lo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ci.warn(i),""}}}function oy(){return new Date().toISOString().substring(0,10)}function g1(s,e=f1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),cy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),cy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class p1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await h1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function cy(s){return Lo(JSON.stringify({version:2,heartbeats:s})).length}function y1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){Po(new ql("platform-logger",e=>new wT(e),"PRIVATE")),Po(new ql("heartbeat",e=>new m1(e),"PRIVATE")),ss(Df,sy,s),ss(Df,sy,"esm2017"),ss("fire-js","")}_1("");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,T_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,N,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[N].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)I[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)I[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var U=O.g[3],R=S+(U^w&(N^U))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(w^N))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^U)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~U))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(I[N++]=O.charCodeAt(U++),N==this.blockSize){u(this,I),N=0;break}}else for(;U<S;)if(I[N++]=O[U++],N==this.blockSize){u(this,I),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;I&&U==S||(w[N]=U,I=!1)}this.g=w}var p={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return J(v(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),I=V,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),I=I.j(U).add(v(R))):(I=I.j(w),I=I.add(v(R)))}return I}var V=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(O);for(var S=v(Math.pow(O,6)),w=this,I="";;){var N=xt(w,S).g;w=St(w,N.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,Z(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=St(this,O),nt(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(M)}s.abs=function(){return nt(this)?J(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,N=0;N<=S;N++){var U=I+(this.i(N)&65535)+(O.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);I=R>>>16,U&=65535,R&=65535,w[N]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function St(O,S){return O.add(J(S))}s.j=function(O){if(Z(this)||Z(O))return V;if(nt(this))return nt(O)?J(this).j(J(O)):J(J(this).j(O));if(nt(O))return J(this.j(J(O)));if(0>this.l(Q)&&0>O.l(Q))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<O.g.length;N++){var U=this.i(I)>>>16,R=this.i(I)&65535,Oe=O.i(N)>>>16,ie=O.i(N)&65535;w[2*I+2*N]+=R*ie,gt(w,2*I+2*N),w[2*I+2*N+1]+=U*ie,gt(w,2*I+2*N+1),w[2*I+2*N+1]+=R*Oe,gt(w,2*I+2*N+1),w[2*I+2*N+2]+=U*Oe,gt(w,2*I+2*N+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function gt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ft(O,S){this.g=O,this.h=S}function xt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new ft(V,V);if(nt(O))return S=xt(J(O),S),new ft(J(S.g),J(S.h));if(nt(S))return S=xt(O,J(S)),new ft(J(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,I=S;0>=I.l(O);)w=vt(w),I=vt(I);var N=Lt(w,1),U=Lt(I,1);for(I=Lt(I,2),w=Lt(w,2);!Z(I);){var R=U.add(I);0>=R.l(O)&&(N=N.add(w),U=R),I=Lt(I,1),w=Lt(w,1)}return S=St(O,N.j(S)),new ft(N,S)}for(N=V;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(w),R=U.j(S);nt(R)||0<R.l(O);)w-=I,U=v(w),R=U.j(S);Z(U)&&(U=M),N=N.add(U),O=St(O,R)}return new ft(N,O)}s.A=function(O){return xt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function vt(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function Lt(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,N=[],U=0;U<I;U++)N[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(N,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,T_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,or=d}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A_,Nl,S_,Io,Of,b_,R_,w_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function V(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function M(o,m,g){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,M.apply(null,arguments)}function Q(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let W=0;W<k;W++)o[L+W]=T[W]}else o.push(T)}}class St{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Lt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function N(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,g){const T=ie.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new St(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,zt=new Oe,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function bt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{xt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,$);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ii(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ti(o){this.src=o,this.g={},this.h=0}ti.prototype.add=function(o,m,g,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=vr(o,m,T,L);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Mn(m,this.src,k,!!T,L),m.fa=g,o.push(m)),m};function _r(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Ii(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function vr(o,m,g,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return L}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(o,m,g,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)Wl(o,m[k],g,T,L);return null}return g=tu(g),o&&o[be]?o.K(m,g,v(T)?!!T.capture:!1,L):cn(o,m,g,!1,T,L)}function cn(o,m,g,T,L,k){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Vt=ha(o);if(Vt||(o[Er]=Vt=new ti(o)),g=Vt.add(m,g,T,W,k),g.proxy)return g;if(T=hc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Tr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function hc(){function o(g){return m.call(o.src,o.listener,g)}const m=fc;return o}function Ss(o,m,g,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ss(o,m[k],g,T,L);else T=v(T)?!!T.capture:!!T,g=tu(g),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=vr(k,g,T,L),-1<g&&(Ii(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=ha(o))&&(m=o.g[m.toString()],o=-1,m&&(o=vr(m,g,T,L)),(g=-1<o?m[o]:null)&&ca(g))}function ca(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])_r(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Tr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ha(m))?(_r(g,o),g.h==0&&(g.src=null,m[Er]=null)):Ii(o)}}}function Tr(o){return o in As?As[o]:As[o]="on"+o}function fc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&ca(o),o=g.call(T,m)}return o}function ha(o){return o=o[Er],o instanceof ti?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function re(){et.call(this),this.i=new ti(this),this.M=this,this.F=null}Z(re,et),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,g,T){Ss(this,o,m,g,T)};function kt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var L=m;m=new $(T,o),I(m,L)}if(L=!0,g)for(var k=g.length-1;0<=k;k--){var W=m.g=g[k];L=tn(W,T,!0,m)&&L}if(W=m.g=o,L=tn(W,T,!0,m)&&L,L=tn(W,T,!1,m)&&L,g)for(k=0;k<g.length;k++)W=m.g=g[k],L=tn(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ii(g[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},re.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function tn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==g){var Vt=W.listener,ve=W.ha||W.src;W.fa&&_r(o.i,W),L=Vt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(o,m,g){if(typeof o=="function")g&&(o=M(o,g));else if(o&&typeof o.handleEvent=="function")o=M(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function eu(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class dc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(o){et.call(this),this.h=o,this.g={}}Z(Ar,et);var Sr=[];function br(o){Lt(o.g,function(m,g){this.g.hasOwnProperty(g)&&ca(m)},o),o.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),br(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=p.JSON.stringify,fa=p.JSON.parse,Rr=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Cs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){$.call(this,"d")}Z(ni,$);function Ds(){$.call(this,"c")}Z(Ds,$);var xn={},Vs=null;function Oi(){return Vs=Vs||new re}xn.La="serverreachability";function da(o){$.call(this,xn.La,o)}Z(da,$);function Ni(o){const m=Oi();kt(m,new da(m))}xn.STAT_EVENT="statevent";function nu(o,m){$.call(this,xn.STAT_EVENT,o),this.stat=m}Z(nu,$);function Wt(o){const m=Oi();kt(m,new nu(m,o))}xn.Ma="timingevent";function _e(o,m){$.call(this,xn.Ma,o),this.size=m}Z(_e,$);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Is(o,m,g,T,L,k){o.info(function(){if(o.g)if(k)for(var W="",Vt=k.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(we+"="+It+"&"):W+(we+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+W})}function mc(o,m,g,T,L,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+k+" "+W})}function Mi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+wr(o,g)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function wr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Rn(g)}catch{return m}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}Z(Ln,Rs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Ye(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Os={},ma={};function wn(o,m,g){o.L=1,o.v=Or(en(m)),o.m=g,o.P=!0,ri(o,null)}function ri(o,m){o.F=Date.now(),Cr(o),o.A=en(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),zs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new le,o.g=vu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new dc(M(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sr[0]=L.toString()),L=Sr);for(var k=0;k<L.length;k++){var W=Wl(g,L[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ni(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=gn(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=fi?Ni(3):Ni(2)),Ui(this);var g=this.g.Z();this.X=g;e:if(ru(this)){var T=hu(this.g);o="";var L=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),zn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,mc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var It=Vt;break e}}It=null}if(g=It)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,g);else{this.o=!1,this.s=3,Wt(12),Ne(this),zn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=au(this,W),Me==ma){Ee==4&&(this.s=4,Wt(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Os){this.s=4,Wt(15),Mi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Me,null),Dr(this,Me);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,W,"[Invalid Chunked Response]"),Ne(this),zn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Pr(we),we.M=!0,Wt(11))}}else Mi(this.i,this.l,W,null),Dr(this,W);Ee==4&&Ne(this),this.o&&!this.J&&(Ee==4?pu(this.j,this):(this.o=!1,Cr(this)))}else vc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ne(this),zn(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?ma:(g=Number(m.substring(g,T)),isNaN(g)?Os:(T+=1,T+g>m.length?ma:(m=m.slice(T,T+g),o.C=T+g,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Cr(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(M(o.ba,o),m)}function Ui(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(Ni(),Wt(17)),Ne(this),this.s=2,zn(this)):su(this,this.S-o)};function zn(o){o.j.G==0||o.J||pu(o.j,o)}function Ne(o){Ui(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,br(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Dr(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ns(g.h,o))){if(!o.K&&Ns(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)wa(g),ba(g);else break t;Hs(g),Wt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(M(g.Za,g),6e3));if(1>=pa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((o.K||g.g==o)&&wa(g),!gt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const we=It[3];we!=null&&(g.la=we,g.j.info("VER="+g.la));const Ee=It[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const fi=It[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Gn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var k=T.h;k.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ya(k,k.h),k.h=null))}if(T.D){const Gs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Gt(T.I,T.D,Gs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Vt=W,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Ui(Vt),Cr(Vt)),T.g=W}else mu(T);0<g.i.length&&Ra(g)}else It[0]!="stop"&&It[0]!="close"||hi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?hi(g,7):qs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Ni(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function ai(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function pa(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ya(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ai.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function gc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function _a(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=_a(o),T=gc(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],g&&g[k],o)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var k=o[g].substring(0,T);L=o[g].substring(T+1)}else k=o[g];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Ir(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.s),this.l=o.l;var m=o.i,g=new li;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),si(this,g),this.m=o.m}else o&&(m=String(o).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),Li(this,m[4]),this.l=fn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Nr(m,Us,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Nr(m,Us,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Nr(g,g.charAt(0)=="/"?yc:Ls,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Nr(g,va)),o.join("")};function en(o){return new fe(o)}function Ir(o,m,g){o.j=g?fn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function si(o,m,g){m instanceof li?(o.i=m,ou(o.i,o.h)):(g||(m=Nr(m,_c)),o.i=new li(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Or(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function fn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Nr(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,Ls=/[#\?:]/g,yc=/[#\?]/g,_c=/[#\?@]/g,va=/#/g;function li(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&pc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=li.prototype,s.add=function(o,m){dn(this),this.i=null,o=Bn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ui(o,m){dn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function oi(o,m){return dn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){dn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)g.push(m[T])}return g},s.V=function(o){dn(this);let m=[];if(typeof o=="string")oi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return dn(this),this.i=null,o=Bn(this,o),oi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function zs(o,m,g){ui(o,m),0<g.length&&(o.i=null,o.g.set(Bn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=k;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(ui(this,T),zs(this,L,g))},o)),o.j=m}function Mr(o,m){const g=new hn;if(p.Image){const T=new Image;T.onload=Q(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=Q(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(mn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Cn(o,m){const g=new hn,T=new AbortController,L=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),mn(g,"TestPingServer: error",!1,m)})}function mn(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function xr(){this.g=new Rr}function Pn(o,m,g){const T=g||"";try{xs(o,function(L,k){let W=L;v(L)&&(W=Rn(L)),m.push(T+k+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function zi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(zi,Rs),zi.prototype.g=function(){return new ci(this.l,this.j)},zi.prototype.i=function(o){return function(){return o}}({});function ci(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(ci,re),s=ci.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,kn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):kn(this),this.readyState==3&&Bs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},s.Qa=function(o){this.g&&(this.response=o,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,kn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function kn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ps(o){let m="";return Lt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Re(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Ps(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Pt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Pt,re);var Ea=/^https?$/i,Ur=["POST","PUT"];s=Pt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?ws(this.o):ws(Un),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){cu(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ur,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of g)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){cu(this,k)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ta(o),Hn(o)}function Ta(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),Pt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)qe(o.Ea,0,o);else if(kt(o,"readystatechange"),gn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var L=String(o.D).match(Vr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Ea.test(L?L.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<gn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ta(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Lr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Lr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),fa(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var g=N(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[L]||[];m[L]=k,k.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Sa(o){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,o),this.cb=zr("retryDelaySeedMs",1e4,o),this.Wa=zr("forwardChannelMaxRetries",2,o),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(o&&o.concurrentRequestLimit),this.Da=new xr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Wt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Ra(this)};function qs(o){if(fu(o),o.G==3){var m=o.U++,g=en(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),Br(o,g),m=new Ye(o,o.j,m),m.L=2,m.v=Or(en(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Cr(m)}yu(o)}function ba(o){o.g&&(Pr(o),o.g.cancel(),o.g=null)}function fu(o){ba(o),o.u&&(p.clearTimeout(o.u),o.u=null),wa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ra(o){if(!ga(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),lt||(tt(),lt=!0),zt.add(m,o),o.B=0}}function Ec(o,m){return pa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(M(o.Ga,o,m),js(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ye(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),g=en(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),Br(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Ps(k)))+"&"+m:this.m&&Re(g,this.m,k)),ya(this.h,L),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),L.T=!0,wn(L,g,null)):wn(L,g,m),this.G=2}}else this.G==3&&(o?ks(this,o):this.i.length==0||ga(this.h)||ks(this))};function ks(o,m){var g;m?g=m.l:g=o.U++;const T=en(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),Br(o,T),o.m&&o.o&&Re(T,o.m,o.o),g=new Ye(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ya(o.h,g),wn(g,T,m)}function Br(o,m){o.H&&Lt(o.H,function(g,T){Gt(m,T,g)}),o.l&&xs({},function(g,T){Gt(m,T,g)})}function du(o,m,g){g=Math.min(o.i.length,g);var T=o.l?M(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const W=["count="+g];k==-1?0<g?(k=L[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Vt=!0;for(let ve=0;ve<g;ve++){let It=L[ve].g;const we=L[ve].map;if(It-=k,0>It)k=Math.max(0,L[ve].g-100),Vt=!1;else try{Pn(we,W,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),lt||(tt(),lt=!0),zt.add(m,o),o.v=0}}function Hs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(M(o.Fa,o),js(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(M(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ba(this),gu(this))};function Pr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=en(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),Br(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Or(en(m)),g.m=null,g.P=!0,ri(g,o)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),Hs(this),Wt(19))};function wa(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function pu(o,m){var g=null;if(o.g==m){wa(o),Pr(o),o.g=null;var T=2}else if(Ns(o.h,m))g=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Oi(),kt(T,new _e(T,g)),Ra(o)}else mu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Ec(o,m)||T==2&&Hs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:hi(o,5);break;case 4:hi(o,10);break;case 3:hi(o,6);break;default:hi(o,2)}}}function js(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function hi(o,m){if(o.j.info("Error code "+m),m==2){var g=M(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ir(T,"https"),Or(T),L?Mr(T.toString(),g):Cn(T.toString(),g)}else Wt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,g){var T=g instanceof fe?en(g):new fe(g);if(T.g!="")m&&(T.g=m+"."+T.g),Li(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new fe(null);T&&Ir(k,T),m&&(k.g=m),L&&Li(k,L),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),Br(o,T),T}function vu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Pt(new zi({eb:g})):new Pt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ca(){}Ca.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){re.call(this),this.g=new Sa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new jn(this)}Z(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){qs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Rn(o),o=g);m.i.push(new lu(m.Ya++,o)),m.G==3&&Ra(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Xe.aa.N.call(this)};function Tu(o){ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Tu,ni);function Au(){Ds.call(this),this.status=1}Z(Au,Ds);function jn(o){this.g=o}Z(jn,Eu),jn.prototype.ua=function(){kt(this.g,"a")},jn.prototype.ta=function(o){kt(this.g,new Tu(o))},jn.prototype.sa=function(o){kt(this.g,new Au)},jn.prototype.ra=function(){kt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,w_=function(){return new Ca},R_=function(){return Oi()},b_=xn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Io=xi,ii.COMPLETE="complete",S_=ii,Cs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",re.prototype.listen=re.prototype.K,Nl=Cs,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,A_=Pt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",dy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new g_("@firebase/firestore");function ns(){return ia.logLevel}function it(s,...e){if(ia.logLevel<=Mt.DEBUG){const i=e.map(Jf);ia.debug(`Firestore (${ys}): ${s}`,...i)}}function Di(s,...e){if(ia.logLevel<=Mt.ERROR){const i=e.map(Jf);ia.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(ia.logLevel<=Mt.WARN){const i=e.map(Jf);ia.warn(`Firestore (${ys}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,C_(s,a,i)}function C_(s,e,i){let a=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Di(a),new Error(a)}function qt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||C_(e,u,a)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class E1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class T1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new cr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new cr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new D_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class A1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new A1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,r1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new my(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new my(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=R1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function At(s,e){return s<e?-1:s>e?1:0}function Nf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return At(a,u);{const h=V_(),d=w1(h.encode(gy(s,i)),h.encode(gy(e,i)));return d!==0?d:At(a,u)}}i+=a>65535?2:1}return At(s.length,e.length)}function gy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function w1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return At(s[i],e[i]);return At(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-62135596800,yy=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*yy);return new ye(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<py)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yy}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ye(0,0))}static max(){return new yt(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Zn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return At(e.length,i.length)}static compareSegments(e,i){const a=Zn.isNumericId(e),u=Zn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):Nf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Jt extends Zn{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const C1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Zn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return C1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new Be([_y])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function D1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new fr(u,ut.empty(),e)}function V1(s){return new fr(s.readTime,s.key,Hl)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(yt.min(),ut.empty(),Hl)}static max(){return new fr(yt.max(),ut.empty(),Hl)}}function I1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:At(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==O1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function M1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function Wo(s){return s==null}function qo(s){return s===0&&1/s==-1/0}function x1(s){return typeof s=="number"&&Number.isInteger(s)&&!qo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="";function U1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=vy(e)),e=L1(s.get(i),e);return vy(e)}function L1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case O_:i+="";break;default:i+=h}}return i}function vy(s){return s+O_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function aa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ty(this.data.getIterator())}getIteratorFrom(e){return new Ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new On([])}unionWith(e){let i=new Se(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new M_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=z1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="server_timestamp",U_="__type__",L_="__previous_value__",z_="__local_write_time__";function td(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[U_])===null||i===void 0?void 0:i.stringValue)===x_}function tc(s){const e=s.mapValue.fields[L_];return td(e)?tc(e):e}function jl(s){const e=dr(s.mapValue.fields[z_].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,i,a,u,h,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const ko="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="__type__",P1="__max__",wo={mapValue:{}},P_="__vector__",Ho="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:k1(s)?9007199254740991:q1(s)?10:11:dt(28295,{value:s})}function Wn(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=dr(u.timestampValue),p=dr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return mr(u.bytesValue).isEqual(mr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),p=ce(h.doubleValue);return d===p?qo(d)===qo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Ey(d)!==Ey(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Wn(d[_],p[_])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find(i=>Wn(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return At(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return At(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return Ay(s.timestampValue,e.timestampValue);case 4:return Ay(jl(s),jl(e));case 5:return Nf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=mr(h),_=mr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=At(p[v],_[v]);if(A!==0)return A}return At(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=At(ce(h.latitude),ce(d.latitude));return p!==0?p:At(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Sy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,A;const V=h.fields||{},M=d.fields||{},Q=(p=V[Ho])===null||p===void 0?void 0:p.arrayValue,Z=(_=M[Ho])===null||_===void 0?void 0:_.arrayValue,nt=At(((v=Q?.values)===null||v===void 0?void 0:v.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Sy(Q,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const M=Nf(_[V],A[V]);if(M!==0)return M;const Q=hs(p[_[V]],v[A[V]]);if(Q!==0)return Q}return At(_.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function Ay(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return At(s,e);const i=dr(s),a=dr(e),u=At(i.seconds,a.seconds);return u!==0?u:At(i.nanos,a.nanos)}function Sy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return At(i.length,a.length)}function fs(s){return Mf(s)}function Mf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return mr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Mf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Mf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function Oo(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tc(s);return e?16+Oo(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Oo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return aa(a.fields,(h,d)=>{u+=h.length+Oo(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function by(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function Ry(s){return!!s&&"nullValue"in s}function wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function q1(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||i===void 0?void 0:i.stringValue)===P_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function k1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===P1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){aa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Sn(Ll(this.value))}}function q_(s){const e=[];return aa(s.fields,(i,a)=>{const u=new Be([i]);if(No(a)){const h=q_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.position=e,this.inclusive=i}}function Cy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Wn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i="asc"){this.field=e,this.dir=i}}function H1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class pe extends k_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new G1(e,i,a):i==="array-contains"?new F1(e,a):i==="in"?new X1(e,a):i==="not-in"?new K1(e,a):i==="array-contains-any"?new Z1(e,a):new pe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Q1(e,a):new Y1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hs(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends k_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Nn(e,i)}matches(e){return H_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function H_(s){return s.op==="and"}function j_(s){return j1(s)&&H_(s)}function j1(s){for(const e of s.filters)if(e instanceof Nn)return!1;return!0}function Uf(s){if(s instanceof pe)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(j_(s))return s.filters.map(e=>Uf(e)).join(",");{const e=s.filters.map(i=>Uf(i)).join(",");return`${s.op}(${e})`}}function G_(s,e){return s instanceof pe?function(a,u){return u instanceof pe&&a.op===u.op&&a.field.isEqual(u.field)&&Wn(a.value,u.value)}(s,e):s instanceof Nn?function(a,u){return u instanceof Nn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&G_(d,u.filters[p]),!0):!1}(s,e):void dt(19439)}function Q_(s){return s instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof Nn?function(i){return i.op.toString()+" {"+i.getFilters().map(Q_).join(" ,")+"}"}(s):"Filter"}class G1 extends pe{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class Q1 extends pe{constructor(e,i){super(e,"in",i),this.keys=Y_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Y1 extends pe{constructor(e,i){super(e,"not-in",i),this.keys=Y_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Y_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class F1 extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Ql(i.arrayValue,this.value)}}class X1 extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class K1 extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class Z1 extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function Vy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new $1(s,e,i,a,u,h,d)}function nd(s){const e=_t(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Uf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Wo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.Ie=i}return e.Ie}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!H1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!G_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dy(s.startAt,e.startAt)&&Dy(s.endAt,e.endAt)}function Lf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function J1(s,e,i,a,u,h,d,p){return new Es(s,e,i,a,u,h,d,p)}function F_(s){return new Es(s)}function Iy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function X_(s){return s.collectionGroup!==null}function zl(s){const e=_t(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Se(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Yl(h,a))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new Yl(Be.keyField(),a))}return e.Ee}function $n(s){const e=_t(s);return e.de||(e.de=W1(e,zl(s))),e.de}function W1(s,e){if(s.limitType==="F")return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Yl(u.field,h)});const i=s.endAt?new jo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jo(s.startAt.position,s.startAt.inclusive):null;return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function zf(s,e){const i=s.filters.concat([e]);return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Bf(s,e,i){return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ec(s,e){return id($n(s),$n(e))&&s.limitType===e.limitType}function K_(s){return`${nd($n(s))}|lt:${s.limitType}`}function is(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>Q_(u)).join(", ")}]`),Wo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function nc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=Cy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,p,_){const v=Cy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function tA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=eA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function eA(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?hs(_,v):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new ne(ut.comparator);function Vi(){return nA}const $_=new ne(ut.comparator);function Ml(...s){let e=$_;for(const i of s)e=e.insert(i.key,i);return e}function J_(s){let e=$_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function na(){return Bl()}function W_(){return Bl()}function Bl(){return new sa(s=>s.toString(),(s,e)=>s.isEqual(e))}const iA=new ne(ut.comparator),rA=new Se(ut.comparator);function Dt(...s){let e=rA;for(const i of s)e=e.add(i);return e}const aA=new Se(At);function sA(){return aA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(e)?"-0":e}}function tv(s){return{integerValue:""+s}}function lA(s,e){return x1(e)?tv(e):rd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function uA(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[U_]:{stringValue:x_},[z_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=tc(h)),h&&(d.fields[L_]=h),{mapValue:d}}(i,e):s instanceof Fl?nv(s,e):s instanceof Xl?iv(s,e):function(u,h){const d=ev(u,h),p=Oy(d)+Oy(u.Re);return xf(d)&&xf(u.Re)?tv(p):rd(u.serializer,p)}(s,e)}function oA(s,e,i){return s instanceof Fl?nv(s,e):s instanceof Xl?iv(s,e):i}function ev(s,e){return s instanceof Qo?function(a){return xf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Fl extends ic{constructor(e){super(),this.elements=e}}function nv(s,e){const i=rv(e);for(const a of s.elements)i.some(u=>Wn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends ic{constructor(e){super(),this.elements=e}}function iv(s,e){let i=rv(e);for(const a of s.elements)i=i.filter(u=>!Wn(u,a));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Oy(s){return ce(s.integerValue||s.doubleValue)}function rv(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Xl&&u instanceof Xl?cs(a.elements,u.elements,Wn):a instanceof Qo&&u instanceof Qo?Wn(a.Re,u.Re):a instanceof Go&&u instanceof Go}(s.transform,e.transform)}class hA{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rc{}function av(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new lv(s.key,wi.none()):new Kl(s.key,s.data,wi.none());{const i=s.data,a=Sn.empty();let u=new Se(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new la(s.key,a,new On(u.toArray()),wi.none())}}function fA(s,e,i){s instanceof Kl?function(u,h,d){const p=u.value.clone(),_=My(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof la?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=My(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(sv(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Kl?function(h,d,p,_){if(!Mo(h.precondition,d))return p;const v=h.value.clone(),A=xy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof la?function(h,d,p,_){if(!Mo(h.precondition,d))return p;const v=xy(h.fieldTransforms,_,d),A=d.data;return A.setAll(sv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,p){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function dA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=ev(a.transform,u||null);h!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,h))}return i||null}function Ny(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>cA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends rc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class la extends rc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function sv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function My(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,oA(d,p,i[u]))}return a}function xy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,uA(h,d,e))}return a}class lv extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mA extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&fA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=W_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=av(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>Ny(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>Ny(i,a))}}class ad{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return iA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ad(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function _A(s){switch(s){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function uv(s){if(s===void 0)return Di("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:s})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new or([4294967295,4294967295],0);function Uy(s){const e=V_().encode(s),i=new T_;return i.update(e),new Uint8Array(i.digest())}function Ly(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new or([i,a],0),new or([u,h],0)]}class sd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=or.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(or.fromNumber(a)));return u.compare(vA)===1&&(u=new or([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Uy(e),[a,u]=Ly(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Uy(e),[a,u]=Ly(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ac(yt.min(),u,new ne(At),Vi(),Dt())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class ov{constructor(e,i){this.targetId=e,this.Ce=i}}class cv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class zy{constructor(){this.Fe=0,this.Me=By(),this.xe=Pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),a=Dt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new Zl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=By()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EA{constructor(e){this.ze=e,this.je=new Map,this.He=Vi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(At)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Lf(h))if(a===0){const d=new ut(h.path);this.tt(i,d,Qe.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const p=this.ct(e),_=p?this.lt(p,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=mr(a).toUint8Array()}catch(_){if(_ instanceof M_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new sd(d,u,h)}catch(_){return os(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.pe===0?null:p}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Lf(p.target)){const _=new ut(p.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Qe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Dt();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ze,this.He,a);return this.He=Vi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(At),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new zy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(At),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(At),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ne(ut.comparator)}function By(){return new ne(ut.comparator)}const TA={asc:"ASCENDING",desc:"DESCENDING"},AA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SA={and:"AND",or:"OR"};class bA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pf(s,e){return s.useProto3Json||Wo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RA(s,e){return Yo(s,e.toTimestamp())}function Jn(s){return qt(!!s,49232),yt.fromTimestamp(function(i){const a=dr(i);return new ye(a.seconds,a.nanos)}(s))}function ld(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function fv(s){const e=Jt.fromString(s);return qt(yv(e),10190,{key:e.toString()}),e}function kf(s,e){return ld(s.databaseId,e.path)}function Af(s,e){const i=fv(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(mv(i))}function dv(s,e){return ld(s.databaseId,e)}function wA(s){const e=fv(s);return e.length===4?Jt.emptyPath():mv(e)}function Hf(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Py(s,e,i){return{name:kf(s,e),fields:i.value.mapValue.fields}}function CA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?X.UNKNOWN:uv(v.code);return new rt(A,v.message||"")}(d);i=new cv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Af(s,a.document.name),h=Jn(a.document.updateTime),d=a.document.createTime?Jn(a.document.createTime):yt.min(),p=new Sn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new xo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Af(s,a.document),h=a.readTime?Jn(a.readTime):yt.min(),d=Qe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new xo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Af(s,a.document),h=a.removedTargetIds||[];i=new xo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new yA(u,h),p=a.targetId;i=new ov(p,d)}}return i}function DA(s,e){let i;if(e instanceof Kl)i={update:Py(s,e.key,e.value)};else if(e instanceof lv)i={delete:kf(s,e.key)};else if(e instanceof la)i={update:Py(s,e.key,e.data),updateMask:zA(e.fieldMask)};else{if(!(e instanceof mA))return dt(16599,{ft:e.type});i={verify:kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:RA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function VA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Jn(u.updateTime):Jn(h);return d.isEqual(yt.min())&&(d=Jn(h)),new hA(d,u.transformResults||[])}(i,e))):[]}function IA(s,e){return{documents:[dv(s,e.path)]}}function OA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dv(s,u);const h=function(v){if(v.length!==0)return pv(Nn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(M){return{field:rs(M.field),direction:xA(M.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Pf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function NA(s){let e=wA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const M=gv(V);return M instanceof Nn&&j_(M)?M.getFilters():[M]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(M=>function(Z){return new Yl(as(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(M))}(i.orderBy));let p=null;i.limit&&(p=function(V){let M;return M=typeof V=="object"?V.value:V,Wo(M)?null:M}(i.limit));let _=null;i.startAt&&(_=function(V){const M=!!V.before,Q=V.values||[];return new jo(Q,M)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const M=!V.before,Q=V.values||[];return new jo(Q,M)}(i.endAt)),J1(e,u,d,h,p,"F",_,v)}function MA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function gv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=as(i.unaryFilter.field);return pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=as(i.unaryFilter.field);return pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=as(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return pe.create(as(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Nn.create(i.compositeFilter.filters.map(a=>gv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function xA(s){return TA[s]}function UA(s){return AA[s]}function LA(s){return SA[s]}function rs(s){return{fieldPath:s.canonicalString()}}function as(s){return Be.fromServerFormat(s.fieldPath)}function pv(s){return s instanceof pe?function(i){if(i.op==="=="){if(wy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(Ry(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(Ry(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:UA(i.op),value:i.value}}}(s):s instanceof Nn?function(i){const a=i.getFilters().map(u=>pv(u));return a.length===1?a[0]:{compositeFilter:{op:LA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function zA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function yv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,i,a,u,h=yt.min(),d=yt.min(),p=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.wt=e}}function PA(s){const e=NA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Cn=new kA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class kA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_v=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(_v,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ds(0)}static lr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",HA=1048576;function Hy([s,e],[i,a]){const u=At(s,i);return u===0?At(e,a):u}class jA{constructor(e){this.Er=e,this.buffer=new Se(Hy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(ky,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?it(ky,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.mr(3e5)})}}class QA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Jo.le);const a=new jA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,p=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),ns()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function YA(s,e){return new QA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.changes=new sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Pl(a.mutation,u,On.empty(),ye.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=na();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Vi();const d=Bl(),p=function(){return Bl()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof la)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Pl(A.mutation,v,A.mutation.getFieldMask(),ye.now())):d.set(v.key,On.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return p.set(v,new XA(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new ne((d,p)=>d-p),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||On.empty();A=p.applyToLocalView(v,A),a.set(_,A);const V=(u.get(p.batchId)||Dt()).add(_);u=u.insert(p.batchId,V)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,V=W_();A.forEach(M=>{if(!h.has(M)){const Q=av(i.get(M),a.get(M));Q!==null&&V.set(M,Q),h=h.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):X_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(na());let p=Hl,_=h;return d.next(v=>F.forEach(v,(A,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(M=>{_=_.insert(A,M)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(A=>({batchId:p,changes:J_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,_=>{const v=function(V,M){return new Es(M,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((V,M)=>{d=d.insert(V,M)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let p=Ml();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Pl(A.mutation,v,On.empty(),ye.now()),nc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Jn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:PA(u.bundledQuery),readTime:Jn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.overlays=new ne(ut.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=na(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=na(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=na(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=u)););return F.resolve(p)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Dt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.$r=new Se(Ie.Ur),this.Kr=new Se(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ut(new Jt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ut(new Jt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Dt();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ut.comparator(e.key,i.key)||At(e.Zr,i.Zr)}static Wr(e,i){return At(e.Zr,i.Zr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ie.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new Ie(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Wf:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(At);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{a=a.add(p.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ut(h),0);let p=new Se(At);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.ii=e,this.docs=function(){return new ne(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Vi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Vi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||I1(V1(A),a)<=0||(u.has(A.key)||nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new eS(this)}getSize(e){return F.resolve(this.size)}}class eS extends FA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.persistence=e,this.oi=new sa(i=>nd(i),id),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this._i=0,this.ai=new ud,this.targetCount=0,this.ui=ds.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ds(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.ci={},this.overlays={},this.li=new Jo(0),this.hi=!1,this.hi=!0,this.Pi=new JA,this.referenceDelegate=e(this),this.Ti=new nS(this),this.indexManager=new qA,this.remoteDocumentCache=function(u){return new tS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new BA(i),this.Ei=new ZA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $A,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new WA(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new iS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class iS extends N1{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.Vi=new ud,this.mi=null}static fi(e){return new od(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ut.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.yi=new sa(a=>U1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=YA(this,i)}static fi(e,i){return new Fo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oo(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new cd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return eT()?8:M1(WE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new rS;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(ns()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(ns()<=Mt.DEBUG&&it("QueryEngine","Query:",is(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(ns()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):F.resolve())}ws(e,i){if(Iy(i))return F.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,p);return this.Cs(i,v,d,_.readTime)?this.ws(e,Bf(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,u){return Iy(i)||u.isEqual(yt.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(ns()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),is(i)),this.Fs(e,d,i,D1(u,Hl)).next(p=>p))})}vs(e,i){let a=new Se(Z_(e));return i.forEach((u,h)=>{nc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return ns()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",is(i)),this.ys.getDocumentsMatchingQuery(e,i,fr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",sS=3e8;class lS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(At),this.Os=new sa(h=>nd(h),id),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function uS(s,e,i,a){return new lS(s,e,i,a)}async function Ev(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:p}))})})}function oS(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const V=v.batch,M=V.keys();let Q=F.resolve();return M.forEach(Z=>{Q=Q.next(()=>A.getEntry(_,Z)).next(nt=>{const J=v.docVersions.get(Z);qt(J!==null,48541),nt.version.compareTo(J)<0&&(V.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),Q.next(()=>p.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Dt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Tv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function cS(s,e){const i=_t(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,V)=>{const M=u.get(V);if(!M)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,V)));let Q=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?Q=Q.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),u=u.insert(V,Q),function(nt,J,St){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=sS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(M,Q,A)&&p.push(i.Ti.updateTargetData(h,Q))});let _=Vi(),v=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(hS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(yt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(V=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=u,h))}function hS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Vi();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):it(hd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:u}})}function fS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function dS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function jf(s,e,i){const a=_t(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!vs(d))throw d;it(hd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function jy(s,e,i){const a=_t(s);let u=yt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=_t(_),M=V.Os.get(A);return M!==void 0?F.resolve(V.xs.get(M)):V.Ti.getTargetData(v,A)}(a,d,$n(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Dt())).next(p=>(mS(a,tA(e),p),{documents:p,$s:h})))}function mS(s,e,i){let a=s.Ns.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class Gy{constructor(){this.activeTargetIds=sA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(){this.xo=new Gy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="ConnectivityMonitor";class Yy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Qy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(Qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Gf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",yS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _S{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Gf(),p=this.jo(e,i.toUriEncodedString());it(Sf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,u,h);const{host:v}=new URL(p),A=Zf(v);return this.Jo(e,p,_,a,A).then(V=>(it(Sf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw os(Sf,`RPC '${e}' ${d} failed with error: `,V,"url: ",p,"request:",a),V})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=yS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class ES extends _S{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Gf();return new Promise((p,_)=>{const v=new A_;v.setWithCredentials(!0),v.listenOnce(S_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Io.NO_ERROR:const V=v.getResponseJson();it(je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),p(V);break;case Io.TIMEOUT:it(je,`RPC '${e}' ${d} timed out`),_(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const M=v.getStatus();if(it(je,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const nt=function(St){const gt=St.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN}(Z.status);_(new rt(nt,Z.message))}else _(new rt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{it(je,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(je,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Gf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=w_(),p=R_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(je,`Creating RPC '${e}' stream ${u}: ${A}`,_);const V=d.createWebChannel(A,_);this.E_(V);let M=!1,Q=!1;const Z=new vS({Zo:J=>{Q?it(je,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(M||(it(je,`Opening RPC '${e}' stream ${u} transport.`),V.open(),M=!0),it(je,`RPC '${e}' stream ${u} sending:`,J),V.send(J))},Xo:()=>V.close()}),nt=(J,St,gt)=>{J.listen(St,ft=>{try{gt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return nt(V,Nl.EventType.OPEN,()=>{Q||(it(je,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),nt(V,Nl.EventType.CLOSE,()=>{Q||(Q=!0,it(je,`RPC '${e}' stream ${u} transport closed`),Z.u_(),this.d_(V))}),nt(V,Nl.EventType.ERROR,J=>{Q||(Q=!0,os(je,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new rt(X.UNAVAILABLE,"The operation could not be completed")))}),nt(V,Nl.EventType.MESSAGE,J=>{var St;if(!Q){const gt=J.data[0];qt(!!gt,16349);const ft=gt,xt=ft?.error||((St=ft[0])===null||St===void 0?void 0:St.error);if(xt){it(je,`RPC '${e}' stream ${u} received error:`,xt);const vt=xt.status;let Lt=function(w){const I=ge[w];if(I!==void 0)return uv(I)}(vt),O=xt.message;Lt===void 0&&(Lt=X.INTERNAL,O="Unknown error status: "+vt+" with message "+xt.message),Q=!0,Z.u_(new rt(Lt,O)),V.close()}else it(je,`RPC '${e}' stream ${u} received:`,gt),Z.c_(gt)}}),nt(p,b_.STAT_EVENT,J=>{J.stat===Of.PROXY?it(je,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Of.NOPROXY&&it(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(s){return new bA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="PersistentStream";class Sv{constructor(e,i,a,u,h,d,p,_){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Av(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Di(i.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return it(Fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(it(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TS extends Sv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=CA(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Jn(d.readTime):yt.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Lf(_)?{documents:IA(h,_)}:{query:OA(h,_).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=hv(h,d.resumeToken);const v=Pf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Yo(h,d.snapshotVersion.toTimestamp());const v=Pf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=MA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.Q_(i)}}class AS extends Sv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=VA(e.writeResults,e.commitTime),a=Jn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Hf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>DA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class bS extends SS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(X.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,qf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class RS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Di(i),this.ua=!1):it("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class wS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{ua(this)&&(it(ra,"Restarting streams for network reachability change."),await async function(_){const v=_t(_);v.da.add(4),await $l(v),v.Va.set("Unknown"),v.da.delete(4),await lc(v)}(this))})}),this.Va=new RS(a,u)}}async function lc(s){if(ua(s))for(const e of s.Aa)await e(!0)}async function $l(s){for(const e of s.Aa)await e(!1)}function bv(s,e){const i=_t(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),gd(i)?md(i):Ts(i).N_()&&dd(i,e))}function fd(s,e){const i=_t(s),a=Ts(i);i.Ea.delete(e),a.N_()&&Rv(i,e),i.Ea.size===0&&(a.N_()?a.k_():ua(i)&&i.Va.set("Unknown"))}function dd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).Z_(e)}function Rv(s,e){s.ma.Ke(e),Ts(s).X_(e)}function md(s){s.ma=new EA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.Va.ca()}function gd(s){return ua(s)&&!Ts(s).O_()&&s.Ea.size>0}function ua(s){return _t(s).da.size===0}function wv(s){s.ma=void 0}async function CS(s){s.Va.set("Online")}async function DS(s){s.Ea.forEach((e,i)=>{dd(s,e)})}async function VS(s,e){wv(s),gd(s)?(s.Va.Pa(e),md(s)):s.Va.set("Unknown")}async function IS(s,e,i){if(s.Va.set("Online"),e instanceof cv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ea.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ea.delete(p),u.ma.removeTarget(p))}(s,e)}catch(a){it(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof xo?s.ma.Xe(e):e instanceof ov?s.ma.ot(e):s.ma.nt(e),!i.isEqual(yt.min()))try{const a=await Tv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.ma.It(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),Rv(h,_);const V=new ar(A.target,_,v,A.sequenceNumber);dd(h,V)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(ra,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!vs(e))throw e;s.da.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>Tv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ra,"Retrying IndexedDB access"),await i(),s.da.delete(1),await lc(s)})}function Cv(s,e){return e().catch(i=>Xo(s,i,e))}async function uc(s){const e=_t(s),i=pr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wf;for(;OS(e);)try{const u=await fS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,NS(e,u)}catch(u){await Xo(e,u)}Dv(e)&&Vv(e)}function OS(s){return ua(s)&&s.Ia.length<10}function NS(s,e){s.Ia.push(e);const i=pr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Dv(s){return ua(s)&&!pr(s).O_()&&s.Ia.length>0}function Vv(s){pr(s).start()}async function MS(s){pr(s).ia()}async function xS(s){const e=pr(s);for(const i of s.Ia)e.ta(i.mutations)}async function US(s,e,i){const a=s.Ia.shift(),u=ad.from(a,e,i);await Cv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await uc(s)}async function LS(s,e){e&&pr(s).ea&&await async function(a,u){if(function(d){return _A(d)&&d!==X.ABORTED}(u.code)){const h=a.Ia.shift();pr(a).L_(),await Cv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(a)}}(s,e),Dv(s)&&Vv(s)}async function Xy(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(ra,"RemoteStore received new credentials");const a=ua(i);i.da.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await lc(i)}async function zS(s,e){const i=_t(s);e?(i.da.delete(2),await lc(i)):e||(i.da.add(2),await $l(i),i.Va.set("Unknown"))}function Ts(s){return s.fa||(s.fa=function(i,a,u){const h=_t(i);return h.oa(),new TS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:CS.bind(null,s),n_:DS.bind(null,s),i_:VS.bind(null,s),Y_:IS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),gd(s)?md(s):s.Va.set("Unknown")):(await s.fa.stop(),wv(s))})),s.fa}function pr(s){return s.ga||(s.ga=function(i,a,u){const h=_t(i);return h.oa(),new AS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:MS.bind(null,s),i_:LS.bind(null,s),na:xS.bind(null,s),ra:US.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await uc(s)):(await s.ga.stop(),s.Ia.length>0&&(it(ra,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new pd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(s,e){if(Di("AsyncQueue",`${e}: ${s}`),vs(s))return new rt(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static emptySet(e){return new ls(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ls;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.pa=new ne(ut.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new ms(e,i,ls.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class PS{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=_t(i),h=u.queries;u.queries=Zy(),h.forEach((d,p)=>{for(const _ of p.Sa)_.onError(a)})})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Zy(){return new sa(s=>K_(s),ec)}async function qS(s,e){const i=_t(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new BS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=yd(d,`Initialization of query '${is(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&_d(i)}async function kS(s,e){const i=_t(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HS(s,e){const i=_t(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Ma(u)&&(a=!0);d.ba=u}}a&&_d(i)}function jS(s,e,i){const a=_t(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function _d(s){s.Ca.forEach(e=>{e.next()})}var Qf,$y;($y=Qf||(Qf={})).xa="default",$y.Cache="cache";class GS{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.key=e}}class Ov{constructor(e){this.key=e}}class QS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dt(),this.mutatedKeys=Dt(),this.Za=Z_(e),this.Xa=new ls(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new Ky,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const M=u.get(A),Q=nc(this.query,V)?V:null,Z=!!M&&this.mutatedKeys.has(M.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;M&&Q?M.data.isEqual(Q.data)?Z!==nt&&(a.track({type:3,doc:Q}),J=!0):this.ru(M,Q)||(a.track({type:2,doc:Q}),J=!0,(_&&this.Za(Q,_)>0||v&&this.Za(Q,v)<0)&&(p=!0)):!M&&Q?(a.track({type:0,doc:Q}),J=!0):M&&!Q&&(a.track({type:1,doc:M}),J=!0,(_||v)&&(p=!0)),J&&(Q?(d=d.add(Q),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:p,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,V)=>function(Q,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:J})}};return nt(Q)-nt(Z)}(A.type,V.type)||this.Za(A.doc,V.doc)),this.iu(a),u=u!=null&&u;const p=i&&!u?this.su():[],_=this.Ya.size===0&&this.current&&!u?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new ms(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ky,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Dt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Ov(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new Iv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Dt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vd="SyncEngine";class YS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class FS{constructor(e){this.key=e,this.cu=!1}}class XS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new sa(p=>K_(p),ec),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ut.comparator),this.Eu=new Map,this.du=new ud,this.Au={},this.Ru=new Map,this.Vu=ds.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function KS(s,e,i=!0){const a=zv(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await Nv(a,e,i,!0),u}async function ZS(s,e){const i=zv(s);await Nv(i,e,!0,!1)}async function Nv(s,e,i,a){const u=await dS(s.localStore,$n(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await $S(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&bv(s.remoteStore,u),p}async function $S(s,e,i,a,u){s.fu=(V,M,Q)=>async function(nt,J,St,gt){let ft=J.view.tu(St);ft.Cs&&(ft=await jy(nt.localStore,J.query,!1).then(({documents:O})=>J.view.tu(O,ft)));const xt=gt&&gt.targetChanges.get(J.targetId),vt=gt&&gt.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(ft,nt.isPrimaryClient,xt,vt);return Wy(nt,J.targetId,Lt.ou),Lt.snapshot}(s,V,M,Q);const h=await jy(s.localStore,e,!0),d=new QS(e,h.$s),p=d.tu(h.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);Wy(s,i,v.ou);const A=new YS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function JS(s,e,i){const a=_t(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!ec(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await jf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&fd(a.remoteStore,u.targetId),Yf(a,u.targetId)}).catch(_s)):(Yf(a,u.targetId),await jf(a.localStore,u.targetId,!0))}async function WS(s,e){const i=_t(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fd(i.remoteStore,a.targetId))}async function t2(s,e,i){const a=l2(s);try{const u=await function(d,p){const _=_t(d),v=ye.now(),A=p.reduce((Q,Z)=>Q.add(Z.key),Dt());let V,M;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let Z=Vi(),nt=Dt();return _.Bs.getEntries(Q,A).next(J=>{Z=J,Z.forEach((St,gt)=>{gt.isValidDocument()||(nt=nt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,Z)).next(J=>{V=J;const St=[];for(const gt of p){const ft=dA(gt,V.get(gt.key).overlayedDocument);ft!=null&&St.push(new la(gt.key,ft,q_(ft.value.mapValue),wi.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,St,p)}).next(J=>{M=J;const St=J.applyToLocalDocumentSet(V,nt);return _.documentOverlayCache.saveOverlays(Q,J.batchId,St)})}).then(()=>({batchId:M.batchId,changes:J_(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Au[d.currentUser.toKey()];v||(v=new ne(At)),v=v.insert(p,_),d.Au[d.currentUser.toKey()]=v}(a,u.batchId,i),await Jl(a,u.changes),await uc(a.remoteStore)}catch(u){const h=yd(u,"Failed to persist write");i.reject(h)}}async function Mv(s,e){const i=_t(s);try{const a=await cS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?qt(d.cu,14607):u.removedDocuments.size>0&&(qt(d.cu,42227),d.cu=!1))}),await Jl(i,a,e)}catch(a){await _s(a)}}function Jy(s,e,i){const a=_t(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const p=d.view.Fa(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=_t(d);_.onlineState=p;let v=!1;_.queries.forEach((A,V)=>{for(const M of V.Sa)M.Fa(p)&&(v=!0)}),v&&_d(_)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function e2(s,e,i){const a=_t(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const p=Dt().add(h),_=new ac(yt.min(),new Map,new ne(At),d,p);await Mv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Ed(a)}else await jf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(_s)}async function n2(s,e){const i=_t(s),a=e.batch.batchId;try{const u=await oS(i.localStore,e);Uv(i,a,null),xv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await _s(u)}}async function i2(s,e,i){const a=_t(s);try{const u=await function(d,p){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(V=>(qt(V!==null,37113),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Uv(a,e,i),xv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await _s(u)}}function xv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Uv(s,e,i){const a=_t(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Lv(s,a)})}function Lv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(fd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Ed(s))}function Wy(s,e,i){for(const a of i)a instanceof Iv?(s.du.addReference(a.key,e),r2(s,a)):a instanceof Ov?(it(vd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Lv(s,a.key)):dt(19791,{pu:a})}function r2(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(it(vd,"New document in limbo: "+i),s.Tu.add(a),Ed(s))}function Ed(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ut(Jt.fromString(e)),a=s.Vu.next();s.Eu.set(a,new FS(i)),s.Iu=s.Iu.insert(i,a),bv(s.remoteStore,new ar($n(F_(i.path)),a,"TargetPurposeLimboResolution",Jo.le))}}async function Jl(s,e,i){const a=_t(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((p,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(A=i?.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=cd.Rs(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(_,v){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>F.forEach(v,M=>F.forEach(M.ds,Q=>A.persistence.referenceDelegate.addReference(V,M.targetId,Q)).next(()=>F.forEach(M.As,Q=>A.persistence.referenceDelegate.removeReference(V,M.targetId,Q)))))}catch(V){if(!vs(V))throw V;it(hd,"Failed to update sequence numbers: "+V)}for(const V of v){const M=V.targetId;if(!V.fromCache){const Q=A.xs.get(M),Z=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(M,nt)}}}(a.localStore,h))}async function a2(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(vd,"User change. New user:",e.toKey());const a=await Ev(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(p=>{p.forEach(_=>{_.reject(new rt(X.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.ks)}}function s2(s,e){const i=_t(s),a=i.Eu.get(e);if(a&&a.cu)return Dt().add(a.key);{let u=Dt();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const p=i.hu.get(d);u=u.unionWith(p.view.eu)}return u}}function zv(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e2.bind(null,e),e.lu.Y_=HS.bind(null,e.eventManager),e.lu.gu=jS.bind(null,e.eventManager),e}function l2(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i2.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return uS(this.persistence,new aS,e.initialUser,this.serializer)}Su(e){return new vv(od.fi,this.serializer)}bu(e){return new gS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class u2 extends Ko{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){qt(this.persistence.referenceDelegate instanceof Fo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new vv(a=>Fo.fi(a,i),this.serializer)}}class Ff{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=a2.bind(null,this.syncEngine),await zS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PS}()}createDatastore(e){const i=sc(e.databaseInfo.databaseId),a=function(h){return new ES(h)}(e.databaseInfo);return function(h,d,p,_){return new bS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new wS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Jy(this.syncEngine,i,0),function(){return Yy.C()?new Yy:new pS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,A){const V=new XS(u,h,d,p,_,v);return A&&(V.mu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(ra,"RemoteStore shutting down."),h.da.add(5),await $l(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class c2{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=I_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Rf(s,e){s.asyncQueue.verifyOperationInProgress(),it(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Ev(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function t_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await h2(s);it(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Xy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Xy(e.remoteStore,u)),s._onlineComponents=e}async function h2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(yr,"Using user provided OfflineComponentProvider");try{await Rf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await Rf(s,new Ko)}}else it(yr,"Using default OfflineComponentProvider"),await Rf(s,new u2(void 0));return s._offlineComponents}async function Bv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(yr,"Using user provided OnlineComponentProvider"),await t_(s,s._uninitializedComponentsProvider._online)):(it(yr,"Using default OnlineComponentProvider"),await t_(s,new Ff))),s._onlineComponents}function f2(s){return Bv(s).then(e=>e.syncEngine)}async function d2(s){const e=await Bv(s),i=e.eventManager;return i.onListen=KS.bind(null,e.syncEngine),i.onUnlisten=JS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WS.bind(null,e.syncEngine),i}function m2(s,e,i={}){const a=new cr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,_,v){const A=new o2({next:M=>{A.xu(),d.enqueueAndForget(()=>kS(h,V)),M.fromCache&&_.source==="server"?v.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),V=new GS(p,A,{includeMetadataChanges:!0,Qa:!0});return qS(h,V)}(await d2(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(s,e,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function g2(s,e,i,a){if(e===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n_(s){if(!ut.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i_(s){if(ut.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Zo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oc(s);throw new rt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firestore.googleapis.com",r_=!0;class a_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=r_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:r_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HA)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new v1;switch(a.type){case"firstParty":return new S1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=e_.get(i);a&&(it("ComponentProvider","Removing Datastore"),e_.delete(i),a.terminate())}(this),Promise.resolve()}}function p2(s,e,i,a={}){var u;s=Zo(s,cc);const h=Zf(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(XE(`https://${_}`),JE("Firestore",!0)),d.host!==kv&&d.host!==_&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!zo(v,p)&&(s._setSettings(v),a.mockUserToken)){let A,V;if(typeof a.mockUserToken=="string")A=a.mockUserToken,V=Ge.MOCK_USER;else{A=KE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Ge(M)}s._authCredentials=new E1(new D_(A,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class bn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class hr extends oa{constructor(e,i,a){super(e,i,F_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ut(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Td(s,e,...i){if(s=us(s),qv("collection","path",e),s instanceof cc){const a=Jt.fromString(e,...i);return i_(a),new hr(s,null,a)}{if(!(s instanceof bn||s instanceof hr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return i_(a),new hr(s.firestore,null,a)}}function y2(s,e,...i){if(s=us(s),arguments.length===1&&(e=I_.newId()),qv("doc","path",e),s instanceof cc){const a=Jt.fromString(e,...i);return n_(a),new bn(s,null,new ut(a))}{if(!(s instanceof bn||s instanceof hr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return n_(a),new bn(s.firestore,s instanceof hr?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="AsyncQueue";class l_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Av(this,"async_queue_retry"),this.rc=()=>{const a=bf();a&&it(s_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new cr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vs(e))throw e;it(s_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Di("INTERNAL UNHANDLED ERROR: ",u_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=pd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&dt(47125,{cc:u_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function u_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ad extends cc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new l_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function _2(s,e){const i=typeof s=="object"?s:u1(),a=typeof s=="string"?s:ko,u=i1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=YE("firestore");h&&p2(u,...h)}return u}function Hv(s){if(s._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||v2(s),s._firestoreClient}function v2(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,A){return new B1(p,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Pv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new c2(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p?._online.build();return{_offline:p?._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(Pe.fromBase64String(e))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class T2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function Gv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:s})}}class wd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $o(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Gv(this.Ic)&&E2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class A2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||sc(e)}bc(e,i,a,u=!1){return new wd({Ic:e,methodName:i,wc:a,path:Be.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(s){const e=s._freezeSettings(),i=sc(s._databaseId);return new A2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function S2(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);Xv("Data must be an object, but it was:",d,a);const p=Yv(a,d);let _,v;if(h.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const M=R2(e,V,i);if(!d.contains(M))throw new rt(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);C2(A,M)||A.push(M)}_=new On(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new T2(new Sn(p),_,v)}function b2(s,e,i,a=!1){return Cd(i,s.bc(a?4:3,e))}function Cd(s,e){if(Fv(s=us(s)))return Xv("Unsupported field value:",e,s),Yv(s,e);if(s instanceof jv)return function(a,u){if(!Gv(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=Cd(p,u.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=us(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ye.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof ye){const h=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof bd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gs)return{bytesValue:hv(u.serializer,a._byteString)};if(a instanceof bn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ld(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Rd)return function(d,p){return{mapValue:{fields:{[B_]:{stringValue:P_},[Ho]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.gc("VectorValues must only contain numeric values.");return rd(p.serializer,v)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${oc(a)}`)}(s,e)}function Yv(s,e){const i={};return N_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,(a,u)=>{const h=Cd(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Fv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ye||s instanceof bd||s instanceof gs||s instanceof bn||s instanceof jv||s instanceof Rd)}function Xv(s,e,i){if(!Fv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=oc(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function R2(s,e,i){if((e=us(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Kv(s,e);throw $o("Field path arguments must be of type string or ",s,!1,void 0,i)}const w2=new RegExp("[~\\*/\\[\\]]");function Kv(s,e,i){if(e.search(w2)>=0)throw $o(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sd(...e.split("."))._internalPath}catch{throw $o(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function $o(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(X.INVALID_ARGUMENT,p+s+_)}function C2(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Dd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D2 extends Zv{data(){return super.data()}}function Dd(s,e){return typeof e=="string"?Kv(s,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vd{}class $v extends Vd{}function Jv(s,e,...i){let a=[];e instanceof Vd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Od).length,p=h.filter(_=>_ instanceof Id).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Id extends $v{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Id(e,i,a)}_apply(e){const i=this._parse(e);return t0(e._query,i),new oa(e.firestore,e.converter,zf(e._query,i))}_parse(e){const i=Qv(e.firestore);return function(h,d,p,_,v,A,V){let M;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){c_(V,A);const Z=[];for(const nt of V)Z.push(o_(_,h,nt));M={arrayValue:{values:Z}}}else M=o_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||c_(V,A),M=b2(p,d,V,A==="in"||A==="not-in");return pe.create(v,A,M)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Od extends Vd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Od(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Nn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const _ of p)t0(d,_),d=zf(d,_)}(e._query,i),new oa(e.firestore,e.converter,zf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nd extends $v{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Nd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(h,d)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Es(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function Wv(s,e="asc"){const i=e,a=Dd("orderBy",s);return Nd._create(a,i)}function o_(s,e,i){if(typeof(i=us(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X_(e)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(a))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return by(s,new ut(a))}if(i instanceof bn)return by(s,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oc(i)}.`)}function c_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t0(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class I2{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return aa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Ho].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Rd(h)}convertGeoPoint(e){return new bd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=tc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=dr(e);return new ye(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);qt(yv(a),9688,{name:e});const u=new Gl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Di(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N2 extends Zv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Dd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends N2{data(e={}){return super.data(e)}}class M2{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Vo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Uo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Vo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Uo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Vo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:x2(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function x2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}class U2 extends I2{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function e0(s){s=Zo(s,oa);const e=Zo(s.firestore,Ad),i=Hv(e),a=new U2(e);return V2(s._query),m2(i,s._query).then(u=>new M2(e,a,s,u))}function L2(s,e){const i=Zo(s.firestore,Ad),a=y2(s),u=O2(s.converter,e);return z2(i,[S2(Qv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,wi.exists(!1))]).then(()=>a)}function z2(s,e){return function(a,u){const h=new cr;return a.asyncQueue.enqueueAndForget(async()=>t2(await f2(a),u,h)),h.promise}(Hv(s),e)}(function(e,i=!0){(function(u){ys=u})(l1),Po(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ad(new T1(a.getProvider("auth-internal")),new b1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ss(fy,dy,e),ss(fy,dy,"esm2017")})();var B2="firebase",P2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(B2,P2,"app");const q2={apiKey:"AIzaSyDNULquji5hL5jRva6dRX8bz8Wsh6ioK8E",authDomain:"gothicmoodgarden.firebaseapp.com",projectId:"gothicmoodgarden",storageBucket:"gothicmoodgarden.firebasestorage.app",messagingSenderId:"207951591949",appId:"1:207951591949:web:cc1e2d3ae4f2e56835b344"},k2=__(q2),Md=_2(k2),H2=["Joyful","Melancholy","Anxious","Enraged","Hopeful","Lonely"];function j2(){const[s,e]=sr.useState(""),[i,a]=sr.useState(""),u=async h=>{if(h.preventDefault(),!!s)try{await L2(Td(Md,"moods"),{mood:s,note:i||"",timestamp:ye.now()}),e(""),a(""),alert("Mood saved!")}catch(d){console.error("Error saving mood:",d),alert("Something went wrong.")}};return Kt.jsxs("form",{onSubmit:u,className:"mood-form",children:[Kt.jsx("h2",{children:" Log Your Mood"}),Kt.jsx("div",{className:"mood-options",children:H2.map(h=>Kt.jsx("button",{type:"button",className:s===h?"selected":"",onClick:()=>e(h),children:h},h))}),Kt.jsx("textarea",{placeholder:"Add a note (optional)...",value:i,onChange:h=>a(h.target.value)}),Kt.jsx("button",{type:"submit",children:"Plant It "})]})}function G2(){const[s,e]=sr.useState([]);sr.useEffect(()=>{(async()=>{const u=Jv(Td(Md,"moods"),Wv("timestamp","asc")),d=(await e0(u)).docs.map(p=>({id:p.id,...p.data()}));e(d)})()},[]);const i=a=>{switch(a){case"Joyful":return"";case"Melancholy":return"";case"Anxious":return"";case"Enraged":return"";case"Hopeful":return"";case"Lonely":return"";default:return""}};return Kt.jsxs("div",{className:"garden",children:[Kt.jsx("h2",{children:" Your Mood Garden"}),Kt.jsx("div",{className:"grid",children:s.map(a=>Kt.jsx("div",{className:"plant-tile",title:a.note,children:Kt.jsx("span",{className:"plant",children:i(a.mood)})},a.id))})]})}async function Q2(s){const i=`
You are the Garden Oracle. You speak directly to the one who has tended this moody, magical garden.

The user has recorded their moods and notes across the last seven days. Each entry represents an emotional seed  a flower, fungus, or spirit that has grown in their soul-garden.

Using the following log:
${s.map(h=>`On ${new Date(h.timestamp.seconds*1e3).toDateString()}, the mood was "${h.mood}"  ${h.note||"no note."}`).join(`
`)}

Write a poetic, gothic-style message addressed directly to them. Use "you" language  speak to them as if you are delivering a prophecy or mystical reflection. Reference shadows, transformation, moonlight, or nature-- use metaphors and flowery language. Be introspective, elegant, and eerie with a haunting and personal tone. Keep it to 2 paragraphs or less.
`,u=await(await fetch("http://localhost:8787/narrate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:i}]})})).json();if(console.log("GPT response:",u),u.error)throw new Error(u.error.message||"OpenAI API Error");return u.choices[0].message.content}function Y2(){const[s,e]=sr.useState(null),[i,a]=sr.useState(!1);return sr.useEffect(()=>{(async()=>{a(!0);const h=Jv(Td(Md,"moods"),Wv("timestamp","desc")),p=(await e0(h)).docs.map(v=>v.data()).filter(v=>{const A=new Date(v.timestamp.seconds*1e3);return(Date.now()-A.getTime())/(1e3*60*60*24)<=7}),_=await Q2(p);e(_),a(!1)})()},[]),Kt.jsxs("div",{className:"narration-box",children:[Kt.jsx("h2",{children:" Garden Oracle"}),i?Kt.jsx("p",{children:"Consulting the shadows..."}):Kt.jsx("p",{children:s})]})}function F2(){return Kt.jsxs("div",{className:"app-container",children:[Kt.jsxs("header",{children:[Kt.jsx("h1",{children:" Mood Garden"}),Kt.jsx("p",{className:"tagline",children:"Tend to your emotions."})]}),Kt.jsxs("main",{children:[Kt.jsx(j2,{}),Kt.jsx(G2,{}),Kt.jsx(Y2,{})]}),Kt.jsx("footer",{children:Kt.jsx("p",{children:"Crafted with  and React"})})]})}UE.createRoot(document.getElementById("root")).render(Kt.jsx(sr.StrictMode,{children:Kt.jsx(F2,{})}));
